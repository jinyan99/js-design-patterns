# jsè®¾è®¡æ¨¡å¼ å­¦ä¹ ç¬”è®°

<!-- TOC -->

- [jsè®¾è®¡æ¨¡å¼ å­¦ä¹ ç¬”è®°](#js%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0)
    - [å‰è¨€](#%E5%89%8D%E8%A8%80)
        - [è®ºå·¥ç¨‹å¸ˆçš„è®¾è®¡èƒ½åŠ›](#%E8%AE%BA%E5%B7%A5%E7%A8%8B%E5%B8%88%E7%9A%84%E8%AE%BE%E8%AE%A1%E8%83%BD%E5%8A%9B)
        - [è¯¾ç¨‹æ¦‚è¿°](#%E8%AF%BE%E7%A8%8B%E6%A6%82%E8%BF%B0)
    - [é¢å‘å¯¹è±¡](#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1)
        - [æ­å»ºå¼€å‘ç¯å¢ƒ](#%E6%90%AD%E5%BB%BA%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83)
        - [ä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡](#%E4%BB%80%E4%B9%88%E6%98%AF%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1)
        - [é¢å‘å¯¹è±¡ - ç»§æ‰¿](#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1---%E7%BB%A7%E6%89%BF)
        - [é¢å‘å¯¹è±¡ - å°è£…](#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1---%E5%B0%81%E8%A3%85)
            - [ä¸ªå…³é”®å­—](#%E4%B8%AA%E5%85%B3%E9%94%AE%E5%AD%97)
            - [å°è£…ç‰¹ç‚¹](#%E5%B0%81%E8%A3%85%E7%89%B9%E7%82%B9)
        - [é¢å‘å¯¹è±¡ - å¤šæ€](#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1---%E5%A4%9A%E6%80%81)
            - [å¤šæ€ç‰¹ç‚¹](#%E5%A4%9A%E6%80%81%E7%89%B9%E7%82%B9)
        - [é¢å‘å¯¹è±¡ - åº”ç”¨ä¸¾ä¾‹](#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1---%E5%BA%94%E7%94%A8%E4%B8%BE%E4%BE%8B)
        - [é¢å‘å¯¹è±¡ - æ€»ç»“](#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1---%E6%80%BB%E7%BB%93)
            - [ä¸ºä½•ä½¿ç”¨é¢å‘å¯¹è±¡?](#%E4%B8%BA%E4%BD%95%E4%BD%BF%E7%94%A8%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1)
        - [UMLç±»å›¾](#uml%E7%B1%BB%E5%9B%BE)
            - [ç”»å›¾å·¥å…·](#%E7%94%BB%E5%9B%BE%E5%B7%A5%E5%85%B7)
            - [ç±»å›¾ä»‹ç»](#%E7%B1%BB%E5%9B%BE%E4%BB%8B%E7%BB%8D)
            - [å…³ç³»](#%E5%85%B3%E7%B3%BB)
        - [æ€»ç»“](#%E6%80%BB%E7%BB%93)
    - [è®¾è®¡åŸåˆ™](#%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99)
        - [è®¾è®¡åŸåˆ™ä»‹ç»](#%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99%E4%BB%8B%E7%BB%8D)
        - [è®¾è®¡åŸåˆ™-ä½•ä¸ºè®¾è®¡](#%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99-%E4%BD%95%E4%B8%BA%E8%AE%BE%E8%AE%A1)
            - [ã€ŠUNIX/LINUXè®¾è®¡å“²å­¦ã€‹ç®€è¦ä»‹ç»](#unixlinux%E8%AE%BE%E8%AE%A1%E5%93%B2%E5%AD%A6%E7%AE%80%E8%A6%81%E4%BB%8B%E7%BB%8D)
            - [è®¾è®¡å“²å­¦ä¹¦ä¸­å°å‡†åˆ™](#%E8%AE%BE%E8%AE%A1%E5%93%B2%E5%AD%A6%E4%B9%A6%E4%B8%AD%E5%B0%8F%E5%87%86%E5%88%99)
            - [æ¼”ç¤ºä¸‹æ²‰é»˜æ˜¯é‡‘å’Œè®©æ¯ä¸ªç¨‹åºéƒ½ç§°ä¸ºè¿‡æ»¤å™¨](#%E6%BC%94%E7%A4%BA%E4%B8%8B%E6%B2%89%E9%BB%98%E6%98%AF%E9%87%91%E5%92%8C%E8%AE%A9%E6%AF%8F%E4%B8%AA%E7%A8%8B%E5%BA%8F%E9%83%BD%E7%A7%B0%E4%B8%BA%E8%BF%87%E6%BB%A4%E5%99%A8)
        - [è®¾è®¡åŸåˆ™-5å¤§è®¾è®¡åŸåˆ™SOLID](#%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99-5%E5%A4%A7%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99solid)
        - [ç”¨promiseä»£ç æ¼”ç¤º](#%E7%94%A8promise%E4%BB%A3%E7%A0%81%E6%BC%94%E7%A4%BA)
        - [è®¾è®¡æ¨¡å¼ç®€ä»‹](#%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E7%AE%80%E4%BB%8B)
            - [ä»è®¾è®¡åˆ°æ¨¡å¼](#%E4%BB%8E%E8%AE%BE%E8%AE%A1%E5%88%B0%E6%A8%A1%E5%BC%8F)
        - [ç§è®¾è®¡æ¨¡å¼ä»‹ç»](#%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%BB%8B%E7%BB%8D)
            - [åˆ†ä¼˜å…ˆçº§](#%E5%88%86%E4%BC%98%E5%85%88%E7%BA%A7)
        - [é¢è¯•çœŸé¢˜é¢å‘å¯¹è±¡è®¾è®¡èƒ½åŠ›ç›¸å…³](#%E9%9D%A2%E8%AF%95%E7%9C%9F%E9%A2%98%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A1%E8%83%BD%E5%8A%9B%E7%9B%B8%E5%85%B3)
            - [ç¬¬1é¢˜](#%E7%AC%AC1%E9%A2%98)
            - [ç¬¬2é¢˜](#%E7%AC%AC2%E9%A2%98)
    - [å·¥å‚æ¨¡å¼](#%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F)
        - [ä»‹ç»](#%E4%BB%8B%E7%BB%8D)
        - [-UMLç±»å›¾](#-uml%E7%B1%BB%E5%9B%BE)
        - [æ¼”ç¤ºåœºæ™¯](#%E6%BC%94%E7%A4%BA%E5%9C%BA%E6%99%AF)
            - [é€‚ç”¨åœºæ™¯](#%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF)
            - [ä¸¤å¥é¢˜å¤–è¯](#%E4%B8%A4%E5%8F%A5%E9%A2%98%E5%A4%96%E8%AF%9D)
        - [è®¾è®¡åŸåˆ™éªŒè¯](#%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99%E9%AA%8C%E8%AF%81)
    - [å•ä¾‹æ¨¡å¼](#%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F)
        - [ä»‹-ç»](#%E4%BB%8B-%E7%BB%8D)
            - [ç¤ºä¾‹](#%E7%A4%BA%E4%BE%8B)
        - [æ¼”ç¤º](#%E6%BC%94%E7%A4%BA)
        - [åœºæ™¯](#%E5%9C%BA%E6%99%AF)
        - [-è®¾è®¡åŸåˆ™éªŒè¯](#-%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99%E9%AA%8C%E8%AF%81)
    - [é€‚é…å™¨æ¨¡å¼](#%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F)
        - [-ä»‹ç»](#-%E4%BB%8B%E7%BB%8D)
        - [ä»£ç æ¼”ç¤º](#%E4%BB%A3%E7%A0%81%E6%BC%94%E7%A4%BA)
        - [-åœºæ™¯](#-%E5%9C%BA%E6%99%AF)
            - [å°è£…æ—§æ¥å£](#%E5%B0%81%E8%A3%85%E6%97%A7%E6%8E%A5%E5%8F%A3)
            - [vueçš„computed](#vue%E7%9A%84computed)
        - [è®¾è®¡-åŸåˆ™éªŒè¯](#%E8%AE%BE%E8%AE%A1-%E5%8E%9F%E5%88%99%E9%AA%8C%E8%AF%81)
    - [è£…é¥°å™¨æ¨¡å¼](#%E8%A3%85%E9%A5%B0%E5%99%A8%E6%A8%A1%E5%BC%8F)
        - [ä»‹ç»-](#%E4%BB%8B%E7%BB%8D-)
            - [ç±»å›¾](#%E7%B1%BB%E5%9B%BE)
            - [-ä»£ç æ¼”ç¤º](#-%E4%BB%A3%E7%A0%81%E6%BC%94%E7%A4%BA)
        - [åœºæ™¯ä¸€ï¼šES7è£…é¥°å™¨](#%E5%9C%BA%E6%99%AF%E4%B8%80es7%E8%A3%85%E9%A5%B0%E5%99%A8)
            - [é…ç½®ç¯å¢ƒ](#%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83)
            - [è£…é¥°ç±»](#%E8%A3%85%E9%A5%B0%E7%B1%BB)
            - [è£…é¥°æ–¹æ³•](#%E8%A3%85%E9%A5%B0%E6%96%B9%E6%B3%95)
        - [åœºæ™¯äºŒï¼šcore-decorators](#%E5%9C%BA%E6%99%AF%E4%BA%8Ccore-decorators)
        - [--è®¾è®¡åŸåˆ™éªŒè¯](#--%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99%E9%AA%8C%E8%AF%81)
    - [ä»£ç†æ¨¡å¼](#%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F)
        - [ä»‹-ç»-](#%E4%BB%8B-%E7%BB%8D-)
            - [ç¤º-ä¾‹](#%E7%A4%BA-%E4%BE%8B)
        - [æ¼”-ç¤º](#%E6%BC%94-%E7%A4%BA)
        - [åœºæ™¯1 jsäº‹ä»¶ä»£ç†](#%E5%9C%BA%E6%99%AF1-js%E4%BA%8B%E4%BB%B6%E4%BB%A3%E7%90%86)
        - [åœºæ™¯2 $.proxy](#%E5%9C%BA%E6%99%AF2-proxy)
        - [åœºæ™¯3 ES6 Proxy](#%E5%9C%BA%E6%99%AF3-es6-proxy)
        - [è®¾è®¡åŸåˆ™-éªŒè¯](#%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99-%E9%AA%8C%E8%AF%81)
        - [å…¶ä»–æ¨¡å¼å¯¹æ¯”](#%E5%85%B6%E4%BB%96%E6%A8%A1%E5%BC%8F%E5%AF%B9%E6%AF%94)
            - [ä»£ç†æ¨¡å¼ VS é€‚é…å™¨æ¨¡å¼](#%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F-vs-%E9%80%82%E9%85%8D%E5%99%A8%E6%A8%A1%E5%BC%8F)
            - [ä»£ç†æ¨¡å¼ VS è£…é¥°å™¨å™¨æ¨¡å¼](#%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F-vs-%E8%A3%85%E9%A5%B0%E5%99%A8%E5%99%A8%E6%A8%A1%E5%BC%8F)
    - [å¤–è§‚æ¨¡å¼](#%E5%A4%96%E8%A7%82%E6%A8%A1%E5%BC%8F)
        - [ä»‹ç»--](#%E4%BB%8B%E7%BB%8D--)
        - [åœºæ™¯-](#%E5%9C%BA%E6%99%AF-)
        - [è®¾è®¡åŸ-åˆ™éªŒè¯](#%E8%AE%BE%E8%AE%A1%E5%8E%9F-%E5%88%99%E9%AA%8C%E8%AF%81)
    - [è§‚å¯Ÿè€…æ¨¡å¼ ğŸ‘Š](#%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F-)
        - [ä»‹=ç»](#%E4%BB%8B%E7%BB%8D)
            - [ç¤º=ä¾‹](#%E7%A4%BA%E4%BE%8B)
        - [åœºæ™¯1 ç½‘é¡µäº‹ä»¶ç»‘å®š](#%E5%9C%BA%E6%99%AF1-%E7%BD%91%E9%A1%B5%E4%BA%8B%E4%BB%B6%E7%BB%91%E5%AE%9A)
        - [åœºæ™¯2 Promise](#%E5%9C%BA%E6%99%AF2-promise)
        - [åœºæ™¯3 jQuery callbacks](#%E5%9C%BA%E6%99%AF3-jquery-callbacks)
        - [åœºæ™¯4 ndoejsè‡ªå®šä¹‰äº‹ä»¶](#%E5%9C%BA%E6%99%AF4-ndoejs%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6)
        - [å…¶ä»–åœºæ™¯](#%E5%85%B6%E4%BB%96%E5%9C%BA%E6%99%AF)
        - [è®¾=è®¡åŸåˆ™éªŒè¯](#%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99%E9%AA%8C%E8%AF%81)
    - [è¿­ä»£å™¨æ¨¡å¼](#%E8%BF%AD%E4%BB%A3%E5%99%A8%E6%A8%A1%E5%BC%8F)
        - [ä»‹ç»=](#%E4%BB%8B%E7%BB%8D)
            - [ç¤º==ä¾‹](#%E7%A4%BA%E4%BE%8B)
        - [æ¼”ç¤º=](#%E6%BC%94%E7%A4%BA)
        - [åœºæ™¯1 jQuery çš„ eachå°è£…](#%E5%9C%BA%E6%99%AF1-jquery-%E7%9A%84-each%E5%B0%81%E8%A3%85)
        - [åœºæ™¯2 ES6 Iterator](#%E5%9C%BA%E6%99%AF2-es6-iterator)
            - [ES6 Iterator ä¸ºä½•å­˜åœ¨](#es6-iterator-%E4%B8%BA%E4%BD%95%E5%AD%98%E5%9C%A8)
            - [ES6 Iterator æ˜¯ä»€ä¹ˆ](#es6-iterator-%E6%98%AF%E4%BB%80%E4%B9%88)
            - [è¿­ä»£å™¨è¿›åŒ–-ä»£ç å±•ç°](#%E8%BF%AD%E4%BB%A3%E5%99%A8%E8%BF%9B%E5%8C%96-%E4%BB%A3%E7%A0%81%E5%B1%95%E7%8E%B0)
        - [ES6 Iterator ä¸ Generator](#es6-iterator-%E4%B8%8E-generator)
        - [è®¾è®¡åŸåˆ™éªŒè¯==](#%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99%E9%AA%8C%E8%AF%81)
    - [çŠ¶æ€æ¨¡å¼](#%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F)
        - [ä»‹ç»==](#%E4%BB%8B%E7%BB%8D)
            - [æ¨¡æ‹Ÿåœºæ™¯](#%E6%A8%A1%E6%8B%9F%E5%9C%BA%E6%99%AF)
        - [åœºæ™¯1 æœ‰é™çŠ¶æ€æœº](#%E5%9C%BA%E6%99%AF1-%E6%9C%89%E9%99%90%E7%8A%B6%E6%80%81%E6%9C%BA)
            - [ç‰¹å¾](#%E7%89%B9%E5%BE%81)
        - [åœºæ™¯2 å†™ä¸€ä¸ªpromise](#%E5%9C%BA%E6%99%AF2-%E5%86%99%E4%B8%80%E4%B8%AApromise)
            - [åˆ†æå¦‚ä½•å†™promise](#%E5%88%86%E6%9E%90%E5%A6%82%E4%BD%95%E5%86%99promise)
            - [Promiseå°±æ˜¯æœ‰é™çŠ¶æ€æœº](#promise%E5%B0%B1%E6%98%AF%E6%9C%89%E9%99%90%E7%8A%B6%E6%80%81%E6%9C%BA)
        - [è®¾è®¡åŸ=åˆ™éªŒè¯](#%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99%E9%AA%8C%E8%AF%81)
    - [å…¶ä»–è®¾è®¡æ¨¡å¼](#%E5%85%B6%E4%BB%96%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F)
        - [åŸå‹æ¨¡å¼](#%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F)
            - [å¯¹æ¯”JSä¸­çš„åŸå‹prototype](#%E5%AF%B9%E6%AF%94js%E4%B8%AD%E7%9A%84%E5%8E%9F%E5%9E%8Bprototype)
        - [æ¡¥æ¥æ¨¡å¼](#%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F)
            - [è®¾è®¡åŸ--åˆ™éªŒè¯](#%E8%AE%BE%E8%AE%A1%E5%8E%9F--%E5%88%99%E9%AA%8C%E8%AF%81)
        - [ç»„åˆæ¨¡å¼](#%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F)
        - [äº«å…ƒæ¨¡å¼](#%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F)
        - [ç­–ç•¥æ¨¡å¼](#%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F)
        - [æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼](#%E6%A8%A1%E7%89%88%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F)
        - [èŒè´£é“¾æ¨¡å¼](#%E8%81%8C%E8%B4%A3%E9%93%BE%E6%A8%A1%E5%BC%8F)
            - [åº”ç”¨1- å¯¹if-elseçš„æ”¹é€ æˆèŒè´£é“¾æ¨¡å¼](#%E5%BA%94%E7%94%A81--%E5%AF%B9if-else%E7%9A%84%E6%94%B9%E9%80%A0%E6%88%90%E8%81%8C%E8%B4%A3%E9%93%BE%E6%A8%A1%E5%BC%8F)
        - [å‘½ä»¤æ¨¡å¼](#%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F)
        - [å¤‡å¿˜å½•æ¨¡å¼](#%E5%A4%87%E5%BF%98%E5%BD%95%E6%A8%A1%E5%BC%8F)
        - [ä¸­ä»‹è€…æ¨¡å¼](#%E4%B8%AD%E4%BB%8B%E8%80%85%E6%A8%A1%E5%BC%8F)
        - [è®¿é—®è€…æ¨¡å¼](#%E8%AE%BF%E9%97%AE%E8%80%85%E6%A8%A1%E5%BC%8F)
            - [@babel/traverseèŒƒå¼æ¡ˆä¾‹](#babeltraverse%E8%8C%83%E5%BC%8F%E6%A1%88%E4%BE%8B)
        - [è§£é‡Šå™¨æ¨¡å¼](#%E8%A7%A3%E9%87%8A%E5%99%A8%E6%A8%A1%E5%BC%8F)
        - [å…³äºé¢è¯•å’Œæ—¥ç¨‹åº”ç”¨](#%E5%85%B3%E4%BA%8E%E9%9D%A2%E8%AF%95%E5%92%8C%E6%97%A5%E7%A8%8B%E5%BA%94%E7%94%A8)
    - [ç»¼åˆåº”ç”¨](#%E7%BB%BC%E5%90%88%E5%BA%94%E7%94%A8)
        - [UMLç±»å›¾åˆ†æ](#uml%E7%B1%BB%E5%9B%BE%E5%88%86%E6%9E%90)
        - [ç”»UMLç±»å›¾](#%E7%94%BBuml%E7%B1%BB%E5%9B%BE)
        - [ä»£ç åŸºç¡€ç¯å¢ƒ](#%E4%BB%A3%E7%A0%81%E5%9F%BA%E7%A1%80%E7%8E%AF%E5%A2%83)
        - [å®ç°Listç»„ä»¶](#%E5%AE%9E%E7%8E%B0list%E7%BB%84%E4%BB%B6)
        - [å®ç°item cartä¸¤ä¸ªç±»](#%E5%AE%9E%E7%8E%B0item-cart%E4%B8%A4%E4%B8%AA%E7%B1%BB)
        - [çŠ¶æ€æ¨¡å¼å®ç°è´­ç‰©è½¦æ“ä½œ](#%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F%E5%AE%9E%E7%8E%B0%E8%B4%AD%E7%89%A9%E8%BD%A6%E6%93%8D%E4%BD%9C)
        - [å®ç°è´­ç‰©è½¦åˆ—è¡¨å’ŒæŠ˜æ‰£](#%E5%AE%9E%E7%8E%B0%E8%B4%AD%E7%89%A9%E8%BD%A6%E5%88%97%E8%A1%A8%E5%92%8C%E6%8A%98%E6%89%A3)
        - [å®ç°æ—¥å¿—](#%E5%AE%9E%E7%8E%B0%E6%97%A5%E5%BF%97)
        - [æ€»ç»“=](#%E6%80%BB%E7%BB%93)

<!-- /TOC -->

## å‰è¨€

### è®ºå·¥ç¨‹å¸ˆçš„è®¾è®¡èƒ½åŠ›

- 3å¹´å·¥ä½œç»éªŒè¿›é˜¶é«˜çº§ï¼Œé¢è¯•å¿…è€ƒé¢å‘å¯¹è±¡ å’Œ (ç±»çš„)è®¾è®¡èƒ½åŠ›
- æˆä¸ºé¡¹ç›®æŠ€æœ¯è´Ÿè´£äººï¼Œè®¾è®¡èƒ½åŠ›æ˜¯å¿…è¦åŸºç¡€
- ä»å†™å¥½ä»£ç ï¼Œåˆ°åšå¥½è®¾è®¡ï¼Œè®¾è®¡æ¨¡å¼æ˜¯å¿…ç»ä¹‹è·¯

### è¯¾ç¨‹æ¦‚è¿°

- åšä»€ä¹ˆï¼Ÿ-- è®²è§£jsè®¾è®¡æ¨¡å¼
- å“ªäº›éƒ¨åˆ†ï¼Ÿ-- é¢å‘å¯¹è±¡ï¼Œè®¾è®¡åŸåˆ™ï¼Œè®¾è®¡æ¨¡å¼
  - é¢å‘å¯¹è±¡
    - ES6 classè¯­æ³•
    - ä¸‰è¦ç´ 
    - UMLç±»å›¾
  - è®¾è®¡åŸåˆ™
    - ä½•ä¸ºè®¾è®¡
    - 5å¤§è®¾è®¡åŸåˆ™
    - ä»è®¾è®¡åˆ°æ¨¡å¼
  - è®¾è®¡æ¨¡å¼
    - åˆ†ä¼˜å…ˆçº§è®²è§£
    - ç»“åˆæ ¸å¿ƒæŠ€æœ¯
    - ç»“åˆæ¡†æ¶åº”ç”¨
  - ç»¼åˆç¤ºä¾‹
    - è®¾è®¡æ–¹æ¡ˆ
    - ä»£ç æ¼”ç¤º
    - è®¾è®¡æ¨¡å¼å¯¹åº”
- æŠ€æœ¯ï¼Ÿ-- é¢å‘å¯¹è±¡ï¼ŒUMLç±»å›¾ï¼ŒES6

## é¢å‘å¯¹è±¡

> å…·ä½“è§es6é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹
jsæ˜¯ä¸€ç§å¼±çš„é¢å‘å¯¹è±¡è¯­è¨€

### æ­å»ºå¼€å‘ç¯å¢ƒ

(ä»0åˆ°1æ­å»ºä¸ªclientå·¥ç¨‹åŒ–é¡¹ç›®ï¼Œä¸ç”¨è„šæ‰‹æ¶é‚£ç§çš„ï¼Œnpm å’Œ webpackæ˜¯å¿…ä¸å¯å°‘çš„)

- åˆå§‹åŒ–npmç¯å¢ƒ
- å®‰è£…webpack`npm i webpack webpack-cli --save-dev`
  - å®‰è£…å®Œåï¼Œå®‰çš„æ˜¯^4.8.3ç‰ˆæœ¬çš„ï¼Œå®‰ååˆ›å»ºwepack.dev.config.jsæ–‡ä»¶å¼€å§‹å†™webpackçš„é…ç½®ï¼Œç„¶ååœ¨packagejsoné‡Œé…ç½®webpackå¯åŠ¨å‘½ä»¤
- å®‰è£…webpack-dev-server
  - ç„¶ååœ¨webpacké…ç½®æ–‡ä»¶ä¸­æ·»åŠ devServerçš„é…ç½®å±æ€§ï¼Œnpm scriptsä¸­ç”¨webpack-dev-serverå¯åŠ¨
  - webpack-dev-serverä¸ä»…æ˜¯å¯ä»¥è‡ªåŠ¨æŠŠbundlejsè‡ªåŠ¨æ³¨å…¥åˆ°æŒ‡å®šçš„htmlæ–‡ä»¶ä¸­ï¼Œè€Œä¸”æºæ–‡ä»¶æ”¹äº†åï¼Œå¯åŠ¨çš„æœåŠ¡è¿˜ä¼šè‡ªåŠ¨å»åˆ·æ–°
- å®‰è£…babel
  - `npm i babel-core babel-loader babel-polyfill babel-preset-es2015 babel-preset-latest --save-dev`
  - ç”¨babelå·¥å…·è§£æes6
  - å®‰å®Œååœ¨æ ¹ç›®å½•ä¸‹å»ºä¸ª.babelrcæ–‡ä»¶(è¿™æ˜¯ä¸ªjsonæ–‡ä»¶è¿™ä¸ªç‚¹åœ¨mac/linuxé‡Œæ˜¯ä»£è¡¨éšè—æ–‡ä»¶çš„æ„æ€ï¼Œä½†åœ¨windowä¸­ä¸é€‚ç”¨)
  - ç„¶åå†æ¥æ”¹ä¸‹webpacké…ç½®æ–‡ä»¶ï¼Œæ–°å¢ä¸ªmoduleå±æ€§æ¥é’ˆå¯¹æ£€æµ‹jsæ–‡ä»¶å˜æˆes5è¯­æ³•

### ä»€ä¹ˆæ˜¯é¢å‘å¯¹è±¡

- æ¦‚å¿µ
  - ç±»å’Œå¯¹è±¡(ç±»å’Œå®ä¾‹çš„æ¦‚å¿µ) -- å…·ä½“è§src/00-oo-1æ–‡ä»¶
- ä¸‰è¦ç´ ï¼šå°è£… - ç»§æ‰¿ - å¤šæ€
  - ç»§æ‰¿ï¼Œå­ç±»ç»§æ‰¿çˆ¶ç±»
  - å°è£…ï¼Œæ•°æ®çš„æƒé™å’Œä¿å¯†
  - å¤šæ€ï¼ŒåŒä¸€æ¥å£ä¸åŒå®ç°(åç«¯æ¶‰åŠæ¥å£æ¯”è¾ƒå¤š)
- JSçš„åº”ç”¨ä¸¾ä¾‹
- é¢å‘å¯¹è±¡çš„æ„ä¹‰

### é¢å‘å¯¹è±¡ - ç»§æ‰¿

- å…·ä½“ä»£ç æ¼”ç¤ºè§src/00-oo-2æ–‡ä»¶
- Peopleæ˜¯çˆ¶ç±»ï¼Œå…¬å…±çš„ï¼Œä¸ä»…ä»…æœåŠ¡äºStudent
- ç»§æ‰¿å¯å°†å…¬å…±æ–¹æ³•æŠ½ç¦»å‡ºæ¥ï¼Œæé«˜å¤ç”¨ï¼Œå‡å°‘å†—ä½™

### é¢å‘å¯¹è±¡ - å°è£…

#### 3ä¸ªå…³é”®å­—

- publicå®Œå…¨å¼€æ”¾
- protectedå¯¹å­ç±»å¼€æ”¾
- privateå¯¹è‡ªå·±å¼€æ”¾

è¿™ä¸‰ä¸ªå…³é”®å­—å¯ä»¥ç”¨äºå®šä¹‰å±æ€§ï¼Œå¯¹è±¡é‡Œæœ‰å±æ€§å’Œæ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹ç±»é‡Œé¢æˆ–å¯¹è±¡é‡Œé¢çš„å±æ€§å’Œæ–¹æ³•å®šä¹‰æˆä¸Šé¢3ç±»å…³é”®å­—å°±æ˜¯å®Œå…¨å¼€æ”¾çš„å±æ€§æˆ–ä¸æ˜¯

- ä½†æ˜¯ES6å°šä¸æ”¯æŒï¼Œæˆ‘ä»¬å¯ä»¥ç”¨typescriptæ¥æ¼”ç¤º

```javascript
// tsç‰ˆç±»
class People {
  name // ä¸å†™ç±»å‹çš„è¯å°±é»˜è®¤æ˜¯publicç±»å‹
  age
  protected weight // å®šä¹‰protectedå±æ€§ï¼Œä½“é‡å±æ€§ä¸èƒ½å…¬å¼€æ˜¯å—ä¿æŠ¤çš„ï¼Œåªå¯¹å­ç±»å…¬å¼€
  constructor(name, age) {
    this.name = name
    this.age = age
    this.weight = 120
  }

  eat() {
    alert(`${this.name} eat something`)
  }

  speak() {
    alert(`My name is ${this.name}, age ${this.age}`)
  }
}
// tsç‰ˆå­ç±»
class Student extends People {
  number // å­¦å·
  private girlfriend // å®šä¹‰privateå±æ€§ å¥³æœ‹å‹æ˜¯ç§æœ‰çš„åªèƒ½è‡ªå·±è®¿é—®
  constructor(name, age, number) {
    super(name, age)
    this.number = number
    this.girlfriend = 'xiaoli'
  }

  study() {
    alert(`${this.name} study`)
  }

  getWeight() {
    alert(`${this.weight}`)// è·å–çˆ¶ç±»çš„å—ä¿æŠ¤å±æ€§
  }
}
// å®ä¾‹
let xiaoming = new Student('xiaoming', 10, 'A1')
xiaoming.getWeight()
// console.log(xiaoming.girlfriend) // è®¿é—®ç§æœ‰å±æ€§è¿™å°±ä¼šæŠ¥é”™ï¼Œç›´æ¥ç¼–è¯‘ä¸é€šè¿‡
// console.log(xiaoming.weight) // ç”¨å®ä¾‹è®¿é—®å—ä¿æŠ¤å±æ€§ä¹Ÿä¼šæŠ¥é”™ï¼Œå—ä¿æŠ¤å±æ€§åªèƒ½åœ¨ç±»é‡Œé¢ä½¿ç”¨åƒgetWeighté‚£æ ·
```

#### å°è£…ç‰¹ç‚¹

- å‡å°‘è€¦åˆï¼Œä¸è¯¥å¤–éœ²çš„ä¸å¤–éœ²
- åˆ©äºæ•°æ®ï¼Œæ¥å£çš„æƒé™ç®¡ç†
- ES6ç›®å‰ä¸æ”¯æŒï¼Œä¸€èˆ¬è®¤ä¸º_å¼€å¤´çš„å±æ€§æ˜¯private

### é¢å‘å¯¹è±¡ - å¤šæ€

> æ¼”ç¤ºä»£ç è§src/00-oo-3æ–‡ä»¶

- åŒä¸€ä¸ªæ¥å£ï¼Œä¸åŒè¡¨ç°(æ¶‰åŠåˆ°æ–¹æ³•çš„é‡è½½)
- JSåº”ç”¨æå°‘
- éœ€è¦ç»“åˆjavaç­‰è¯­è¨€çš„æ¥å£ï¼Œé‡å†™ï¼Œé‡è½½ç­‰åŠŸèƒ½

#### å¤šæ€ç‰¹ç‚¹

- ä¿æŒå­ç±»çš„å¼€æ”¾æ€§å’Œçµæ´»æ€§
  - ä¸æ˜¯çˆ¶ç±»å®šä¹‰å¥½çš„æ–¹æ³•å­ç±»å°±ä¸èƒ½åŠ¨äº†è¿˜æ˜¯ç»™å­ç±»æä¾›äº†çµæ´»æ€§ï¼Œå…è®¸æ–¹æ³•çš„é‡è½½
- é¢å‘æ¥å£ç¼–ç¨‹
  - æœ‰æ—¶å€™ä¸ç”¨ç®¡è¿™ä¸ªå­ç±»ä¸‹é¢æ˜¯æ€ä¹ˆå®ç°çš„ï¼Œå°±ç®¡çˆ¶ç±»æœ‰å¤šå°‘ä¸ªæ¥å£å°±è¡Œ
- (JSå¼•ç”¨æå°‘ï¼Œäº†è§£å³å¯)

### é¢å‘å¯¹è±¡ - åº”ç”¨ä¸¾ä¾‹

> ä»£ç æ¼”ç¤ºè§src/00-oo-4æ–‡ä»¶

- æ–‡ä»¶å®ç°jqueryçš„ç±»å¾ˆå…¸å‹
- jQueryæ˜¯ä¸€ä¸ªclass
- $('p')æ˜¯jQueryçš„ä¸€ä¸ªå®ä¾‹

### é¢å‘å¯¹è±¡ - æ€»ç»“

#### ä¸ºä½•ä½¿ç”¨é¢å‘å¯¹è±¡?

- ç¨‹åºæ‰§è¡Œï¼šé¡ºåºï¼Œåˆ¤æ–­ï¼Œå¾ªç¯ (ä»»ä½•è¯­è¨€éƒ½ç¦»ä¸å¼€è¿™3ç§æ‰§è¡Œæ–¹å¼)---- ç»“æ„åŒ–
  - è¿™3ç§æ–¹å¼å†™å‡ºçš„ä»£ç å°±å½¢æˆäº†ç»“æ„åŒ–(å³æˆ‘ä»¬çš„ç¨‹åºå¯è¯†åˆ«å¯åˆ¤æ–­ï¼Œå¯¹ç¼–è¯‘å™¨æ¥è¯´ä¹Ÿå¯ä»¥åšåˆ°æ¯”è¾ƒé«˜æ•ˆçš„æ‰§è¡Œï¼Œcè¯­è¨€é‡Œé¢è¿˜æœ‰ä¸€ç§gotoè¯­å¥ï¼Œè¿™ä¸ªè¯­å¥å°±æ˜¯åœ°ä½ä¸å‰ä¸‰ä¸ªåŒæ ·çš„åœ°ä½ç°åœ¨åŸºæœ¬ä¸Šæ·˜æ±°äº†ï¼Œä¼šå½±å“ç»“æ„æ··ä¹±)
- é¢å‘å¯¹è±¡ï¼šå°±æ˜¯æ•°æ®ç»“æ„åŒ–(é¢å‘å¯¹è±¡çš„æ„ä¹‰æ˜¯å°†ç¦»æ•£çš„æ•°æ®è¿›è¡Œç»“æ„åŒ–)
- å¯¹äºè®¡ç®—æœºè€Œè¨€ï¼Œç»“æ„åŒ–çš„æ‰æ˜¯æœ€ç®€å•çš„
  - æˆ‘ä»¬æµè§ˆå™¨åŠ è½½ç½‘é¡µï¼Œå…¶å®åŠ è½½çš„æ˜¯æµï¼Œè¿™ä¸ªæµæ˜¯ä¸€å †å­—ç¬¦ä¸²ï¼Œè™½ç„¶æˆ‘ä»¬çœ‹åˆ°çš„æ˜¯htmljsæ–‡ä»¶ï¼Œè¿™ä¸ä¹Ÿéƒ½æ˜¯å­—ç¬¦ä¸²ç»„æˆçš„æµå˜›ï¼Œæµè§ˆå™¨æ‹¿åˆ°htmlå­—ç¬¦ä¸²ä¼šç»™å®ƒè¯†åˆ«è¯»å–å˜æˆdomæ ‘ï¼Œè¿™å°±æ˜¯ç»“æ„åŒ–
  - æˆ‘ä»¬ç¨‹åºä¹Ÿæ˜¯ï¼Œæˆ‘ä»¬ç¨‹åºå¦‚æœå……æ»¡äº†æ•£ä¹±çš„æ•°æ®ï¼Œæˆ‘ä»¬æƒ³æ³•ç»™å®ƒç»“æ„åŒ–ï¼Œæ‹¿äº›æ•°æ®ç»“æ„åŒ–æˆä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚ä¸ŠèŠ‚çš„Peopleç±»å¯¹è±¡ï¼Œå°†ageï¼Œnameï¼Œaddressç­‰æ•°æ®ç»“æ„åŒ–æˆä¸€ä¸ªPeopleäººå¯¹è±¡ï¼Œè¿™å°±è®©æœ¬æ— æ„ä¹‰çš„æ•°æ®æœ‰äº†æ„ä¹‰ï¼Œè‹¥ä¸ç»“æ„çš„è¯ï¼Œ1ä¸‡ä¸ªè¿™ç§æ•°æ®æ•£ä¹±åœ¨ä¸€èµ·æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Œè‹¥ç»“æ„æˆä¸€ä¸ªäººçš„è¯ï¼Œä»¥åç›´æ¥ç”¨ä¸€ä¸ªäººç»“æ„å°±èƒ½ä»£è¡¨é‚£1ä¸‡ç§æ•°æ®äº†ï¼Œè¿™å°±æ˜¯é¢å‘å¯¹è±¡çš„ç»ˆææ„ä¹‰
- é¢å‘å¯¹è±¡çš„**ç»ˆææ„ä¹‰**å°±æ˜¯ï¼ˆæ•°æ®ç»“æ„åŒ–ï¼‰ï¼šåƒPeopleå¯¹è±¡ä¸€æ ·ï¼Œè®©æ•£ä¹±çš„æ•°æ®ç»“æ„åŒ–ï¼Œä½¿å…¶å˜å¾—æœ‰æ„ä¹‰
- ç¼–ç¨‹åº”è¯¥ ç®€å•&æŠ½è±¡(é¢å‘å¯¹è±¡è§£å†³çš„å°±æ˜¯ç®€å•å’ŒæŠ½è±¡è¿™2é—®é¢˜)

### UMLç±»å›¾

- UMLç±»å›¾ï¼šUnified Modeling Language ç»Ÿä¸€å»ºæ¨¡è¯­è¨€
- ç±»å›¾ï¼ŒUMLåŒ…å«å¾ˆå¤šç§å›¾ï¼Œå’Œæœ¬è¯¾ç›¸å…³çš„æ˜¯ç±»å›¾
- å…³ç³»ï¼šä¸»è¦è®²è§£æ³›åŒ–(å°±æ˜¯ç±»ä¹‹é—´çš„ç»§æ‰¿)å’Œå…³è”(å°±æ˜¯ç±»ä¹‹é—´çš„ç»„åˆ)
- æ¼”ç¤ºï¼šä»£ç å’Œç±»å›¾ç»“åˆ

#### ç”»å›¾å·¥å…·

- MS Office visio
- https://www.processon.com/

#### ç±»å›¾ä»‹ç»

- å­¦ä¹ ç±»å›¾å› ä¸ºåé¢æ¯ä¸ªè®¾è®¡æ¨¡å¼åŸºæœ¬éƒ½ä¼šç”¨UMLç±»å›¾æ¥é˜è¿°ä¸€ä¸‹
![leitu](img/ç±»å›¾.png)
- ä»¥peopleç±»ä¸ºä¾‹ç”»ç±»å›¾
![peopleleitu](img/Peopleç±»å›¾.png)
- å¼€å§‹ç”»å›¾

#### å…³ç³»

- æ³›åŒ–ï¼Œè¡¨ç¤ºç»§æ‰¿
- å…³è”ï¼Œè¡¨ç¤ºå¼•ç”¨
![ç±»å›¾å…³ç³»](img/ç±»å›¾å…³ç³».png)
![ç±»å›¾å…³ç³»](img/ç±»å›¾å…³ç³»æµ‹è¯•.png)
![ç±»å›¾å…³ç³»æ¡ˆä¾‹](img/ç±»å›¾å…³ç³»æ¡ˆä¾‹.png)
- ä¸Šå›¾å°±æ˜¯æ—¢æœ‰ç»§æ‰¿å…³ç³»åˆæœ‰å…³è”å…³ç³»ï¼ŒAç»§æ‰¿äº†Peopleï¼ŒPeopleä¸­æœ‰å¼•ç”¨house
- **å…³è”ç±»çš„æ–¹å¼æ˜¯è¿™ç§ç›´æ¥åœ¨ç±»ä¸­å¼•ç”¨å®ä¾‹åˆ°è‡ªå·±çš„å±æ€§å¯**
- ç”¨processonç”»ä¸Šé¢UMLç±»å›¾
  - ç›´çº¿ç©ºå¿ƒç®­å¤´ä»£è¡¨ç»§æ‰¿ï¼ŒæŒ‡å‘è°å°±ä»£è¡¨ç»§æ‰¿è°(æ³›åŒ–)
  - ç›´çº¿å®å¿ƒç®­å¤´ä»£è¡¨å¼•ç”¨å…³ç³»ï¼ŒæŒ‡å‘è°å°±ä»£è¡¨å¼•ç”¨äº†è°(å…³è”)

### æ€»ç»“

- UMLç±»å›¾æ˜¯æ˜¯é¢å‘å¯¹è±¡çš„è®¾è®¡å·¥å…·ï¼Œå¼€å‘å‰æ„æ€å¼€ä¼šè®¨è®ºéƒ½å¾—ç”¨ç±»å›¾æ¥äº¤æµæ€è·¯
- åé¢å­¦ä¹ è®¾è®¡æ¨¡å¼ï¼Œä¼šç»§ç»­ç”»UMLç±»å›¾
  - æ¯å­¦ä¹ è®¾è®¡æ¨¡å¼ä¹‹å‰éƒ½å…ˆä»UMLç±»å›¾è®¾è®¡å¼€å§‹ï¼Œå†ç”±è®¾è®¡å›¾è½¬åˆ°å®é™…ä»£ç ä¸­

## è®¾è®¡åŸåˆ™

è®¾è®¡æ¨¡å¼æ˜¯ä¸¤å—ä¸œè¥¿è®¾è®¡å’Œæ¨¡å¼ï¼Œè®¾è®¡å°±æ˜¯è®¾è®¡åŸåˆ™ï¼Œæ¨æ¼”åˆ°æ¨¡å¼ä¹‹å‰å¿…é¡»è¦æœ‰åŸåˆ™æ¥æ”¯æ’‘---ä»è®¾è®¡åˆ°æ¨¡å¼

### è®¾è®¡åŸåˆ™ä»‹ç»

- ä»€ä¹ˆæ˜¯è®¾è®¡å‘¢
  - å°±æ˜¯æŒ‰ç…§æŸä¸€ç§æ€è·¯æˆ–è€…æ ‡å‡†æ¥å®ç°åŠŸèƒ½
  - åŠŸèƒ½ç›¸åŒï¼Œå¯ä»¥æœ‰ä¸åŒè®¾è®¡æ–¹æ¡ˆæ¥å®ç°
  - ä¼´éšç€éœ€æ±‚å¢åŠ ï¼Œè®¾è®¡çš„ä½œç”¨æ‰èƒ½ä½“ç°å‡ºæ¥

> æ¨èä¹¦ç±ï¼šã€ŠUNIX/LINUXè®¾è®¡å“²å­¦ã€‹

### è®¾è®¡åŸåˆ™-ä½•ä¸ºè®¾è®¡

#### ã€ŠUNIX/LINUXè®¾è®¡å“²å­¦ã€‹ç®€è¦ä»‹ç»

- å‡†åˆ™1: å°å³æ˜¯ç¾
- å‡†åˆ™2: è®©æ¯ä¸ªç¨‹åºåªåšå¥½ä¸€ä»¶äº‹
  - æ¯ä¸ªç¨‹åºéƒ½åšæˆå°çš„èŒè´£å•ä¸€åªåšå¥½ä¸€ä»¶äº‹ï¼Œå¯¹åº”çš„å¤§ç¨‹åºå°±æ˜¯å¤šä¸ªå°ç¨‹åºçš„ç»„åˆå…³ç³»å³å¯
  - è¿™é‡Œé¢æœ‰ä¸¤ä¸ªæ¦‚å¿µï¼šæ•™å ‚(ç»™ä¸€ä¸ªå¤§çš„æ•™å ‚é‡Œå¸ƒç½®å®‰æ’ä¸œè¥¿)å’Œé›†å¸‚(ç»™ä¸€ä¸ªç©ºåœ°æ–¹ï¼Œæ…¢æ…¢ç´¯ç§¯å–ç‰¹å®šå•†å“çš„æ‘Šè´©ï¼Œæœ€åç»„æˆä¸€ä¸ªå¤§çš„é›†å¸‚)çš„æ¦‚å¿µï¼Œæ˜æ˜¾å‡†åˆ™2å°±å±äºé›†å¸‚çš„æ¦‚å¿µ
- å¿«é€Ÿå»ºç«‹åŸå‹
  - å¿«é€Ÿæ­å»ºå‡ºå¯ç”¨çš„åŸºæœ¬çš„åŸå‹çš„ä¸œè¥¿ï¼Œç„¶åæ”¾å‡ºå»è®©ç”¨æˆ·å»ç”¨ï¼Œç”¨æˆ·ç”¨å®Œä¹‹åè‚¯å®šä¼šæœ‰åé¦ˆï¼Œæˆ‘ä»¬æ ¹æ®åé¦ˆå’Œè‡ªå·±çš„å‡çº§è§„åˆ’ï¼Œä¸€æ­¥æ­¥å»è¿­ä»£å‡çº§ï¼Œæ…¢æ…¢å»å®Œå–„èµ·æ¥
- å‡†åˆ™4: èˆå¼ƒé«˜æ•ˆç‡è€Œå–å¯ç§»æ¤æ€§
  - é«˜æ•ˆç‡è¿™ä¸ªä¸œè¥¿ç›¸å¯¹äºä»£ç çš„å¯ç§»æ¤æ€§å¯å¤ç”¨æ€§ä¼˜å…ˆçº§ä¼šä½å¾ˆå¤š
- å‡†åˆ™5: é‡‡ç”¨çº¯æ–‡æœ¬æ¥å­˜å‚¨æ•°æ®
  - è¿™æ˜¯æ•ˆç‡å’Œå¯è¯»æ€§ä¸Šçš„å–èˆï¼Œçº¯æ–‡æœ¬å°±æ˜¯æ–¹ä¾¿é˜…è¯»ï¼Œè‹¥å­˜å‚¨äºŒè¿›åˆ¶çš„è¯ï¼Œäººéš¾è¯»ä½†è®¡ç®—æœºæ–¹ä¾¿è¯»ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æ˜¯æ›´å€¾å‘äºå¯è¯»æ€§ï¼Œå› ä¸ºçº¯æ–‡æœ¬å’ŒäºŒè¿›åˆ¶çš„è½¬ç å¯ä»¥é€šè¿‡é«˜æ•ˆç‡çš„æ–¹å¼(ç¡¬ä»¶å‡çº§)æ¥æŠ¹å¹³ï¼Œå­˜å‚¨ç¡¬ç›˜å¤šä¾¿å®œï¼Œå¯è¯»æ€§çš„ä¼˜å…ˆçº§é«˜å“¦
- å‡†åˆ™6: å……åˆ†åˆ©ç”¨è½¯ä»¶çš„æ æ†æ•ˆåº”(è½¯ä»¶å¤ç”¨ï¼Œèƒ½æŠ½è±¡å°±æŠ½è±¡å¤ç”¨å‡ºæ¥)
- å‡†åˆ™7: ä½¿ç”¨shellè„šæœ¬æ¥æé«˜æ æ†æ•ˆåº”å’Œå¯ç§»æ¤æ€§
- å‡†åˆ™8: é¿å…å¼ºåˆ¶æ€§çš„ç”¨æˆ·ç•Œé¢
  - ç”¨æˆ·ç•Œé¢è¿™ä¸ªä¸œè¥¿åº”è¯¥æ˜¯å•ç‹¬ä¸€ä¸ªè½¯ä»¶æ¥å­˜åœ¨çš„ä¸åº”è¯¥æ˜¯ç³»ç»Ÿçš„å¿…å¤‡é¡¹ åº”è¯¥æ˜¯åˆ†ç¦»çš„ï¼Œç”¨æˆ·ç•Œé¢ä¹Ÿä¼šå ç”¨ç³»ç»Ÿå†…å­˜ï¼Œå®Œå…¨å‘½ä»¤è¡Œçš„è¯è‚¯å®šå å†…å­˜æ¯”è¾ƒä½ï¼Œè¿™ä¹Ÿæ˜¯linuxä¸ºä»€ä¹ˆé‡‡ç”¨å‘½ä»¤è¡Œçš„æ“ä½œç³»ç»Ÿé‡‡å–çš„åŸåˆ™
- å‡†åˆ™9: è®©æ¯ä¸ªç¨‹åºéƒ½ç§°ä¸ºè¿‡æ»¤å™¨

#### è®¾è®¡å“²å­¦ä¹¦ä¸­å°å‡†åˆ™

- å°å‡†åˆ™1: å…è®¸ç”¨æˆ·å®šåˆ¶é…ç½®ç¯å¢ƒ
- å°å‡†åˆ™2: å°½é‡ä½¿æ“ä½œç³»ç»Ÿå†…æ ¸å°è€Œè½»é‡åŒ–(é¢å¤–éœ€è¦çš„ä¸œè¥¿å¯ä»¥é€šè¿‡æ’ä»¶æ‰©å±•çš„å½¢å¼æ¥å¢åŠ ï¼Œå†…æ ¸ï¼Œå·¥å…·ï¼Œæ’ä»¶åšåˆ°åˆ†ç¦»è§£è€¦çš„å…³ç³»)
- å°å‡†åˆ™3: ä½¿ç”¨å°å†™å­—æ¯ï¼Œå¹¶å°½é‡ç®€çŸ­(å±äºlinuxçš„å‘½åè§„èŒƒlistå¯ä»¥ç®€å†™æˆls)
- å°å‡†åˆ™4: æ²‰é»˜æ˜¯é‡‘(è‹¥è¾“å…¥è¦æ±‚ä¸åŒ¹é…çš„æƒ…å†µä¸‹å°±è¾“å‡º0æˆ–ä¸è¾“å‡ºä»»ä½•å†…å®¹è€Œä¸æ˜¯è¾“å‡ºåŸå› è¯´è¿™ä¸æ˜¯ä¸€ä¸ªæ•°å€¼æ ¼å¼ï¼Œå½“ç„¶æŠ¥é”™çš„è¯è‚¯å®šæ˜¯è¦å‘Šè¯‰çš„)
- å°å‡†åˆ™5: å„éƒ¨åˆ†ä¹‹å’Œå¤§äºæ•´ä½“(ä»¥å°çš„å•ä½“ç»„æˆå¤§çš„æ•´ä½“è¿™æ ·æŸéƒ¨åˆ†æ”¹å˜ä¸ä¼šå½±å“å…¶ä»–éƒ¨åˆ†)
- å°å‡†åˆ™6: å¯»æ±‚90%çš„è§£å†³æ–¹æ¡ˆ(ä¸è¦åšåˆ°å®Œç¾ï¼Œ100ä¸ªç”¨æˆ·æ»¡è¶³90ä¸ªäººçš„éœ€æ±‚å°±è¡Œäº†ï¼Œå‰©ä¸‹é‚£10ä¸ªæ»¡è¶³çš„è¯å¯èƒ½ä¼šèŠ±å¾ˆå¤§ç²¾åŠ›ï¼Œè¿™å’ŒäºŒå…«å®šå¾‹æ˜¯ä¸€ä¸ªæ„æ€20%çš„ç²¾åŠ›æ»¡è¶³80%çš„ç”¨æˆ·å³å¯)

#### æ¼”ç¤ºä¸‹æ²‰é»˜æ˜¯é‡‘å’Œè®©æ¯ä¸ªç¨‹åºéƒ½ç§°ä¸ºè¿‡æ»¤å™¨

åœ¨macç»ˆç«¯ä¸­æ•²linuxå‘½ä»¤å°±å¯ä»¥ä½“ä¼šåˆ°æ²‰é»˜æ˜¯é‡‘å’Œæ¯ä¸ªç¨‹åºéƒ½æ˜¯è¿‡æ»¤å™¨

```javascript
// å¦‚lså‘½ä»¤ï¼Œä¼šåˆ—å‡ºå½“å‰ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶
// ls | grep *.json å‘½ä»¤ å°±ä¼šè¿‡æ»¤å‡ºå½“å‰ç›®å½•ä¸‹æ‰€æœ‰jsonåç¼€çš„æ–‡ä»¶
// ls | grep *.json | grep 'package' å‘½ä»¤ä¼šåˆ—å‡ºpackage.jsonæ–‡ä»¶
// ls | grep *.json | grep 'package1' å‘½ä»¤ ç”±äºæ²‰é»˜æ˜¯é‡‘åŸåˆ™æ²¡æœ‰æ‰¾åˆ°è¿™ä¸ªæ–‡ä»¶å°±ä»€ä¹ˆéƒ½ä¸è¿”å›
// ls | grep *.json | grep 'package1' | wc -l æ‰¾åˆ°è¯¥æ–‡ä»¶è¾“å‡ºå¤šå°‘è¡Œå‘½ä»¤ï¼Œä¿æŒæ²‰é»˜çš„è¯è‚¯å®šæ˜¯è¾“å‡º0è¡Œï¼Œè¦åä¾‹çš„è¯ä¸‡ä¸€ä¸Šæ¡å‘½ä»¤ç»“æœæ˜¯â€˜no fileâ€™è¾“å‡ºçš„è¯ï¼Œä»–è¿™æ¡å‘½ä»¤è‚¯å®šå°±è¾“å‡º1è¡Œäº†ï¼Œå°±å‡ºå¤§é—®é¢˜äº†
// å‡ ä¹ä»»ä½•ä¸€ä¸ªç¨‹åºéƒ½å¸¦æœ‰grepè¿‡æ»¤åŠŸèƒ½
```

### è®¾è®¡åŸåˆ™-5å¤§è®¾è®¡åŸåˆ™SOLID

- S - å•ä¸€èŒè´£åŸåˆ™ (signal)
  - ä¸€ä¸ªç¨‹åºåªåšå¥½ä¸€ä»¶äº‹,ä¸åŒèŒè´£äº‹ä¹‹é—´è¦è¿›è¡Œåˆ†ç¦»
  - å¦‚æœåŠŸèƒ½è¿‡äºå¤æ‚å°±æ‹†å¼€ï¼Œæ¯ä¸ªéƒ¨åˆ†ä¿æŒç‹¬ç«‹
- O - å¼€æ”¾å°é—­åŸåˆ™ (open)
  - å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å°é—­
  - å¢åŠ éœ€æ±‚æ—¶ï¼Œæ‰©å±•æ–°ä»£ç ï¼Œè€Œéä¿®æ”¹å·²æœ‰ä»£ç 
  - è¿™æ˜¯è½¯ä»¶è®¾è®¡çš„ç»ˆæç›®æ ‡
- L - ææ°ç½®æ¢åŸåˆ™ (lisiäººåä»–æå‡ºæ¥çš„ï¼Œæ‰€æœ‰çˆ¶ç±»èƒ½å‡ºç°çš„åœ°æ–¹å­ç±»å…¨éƒ¨éƒ½èƒ½å‡ºç°)
  - å­ç±»èƒ½è¦†ç›–çˆ¶ç±»
  - çˆ¶ç±»èƒ½å‡ºç°çš„åœ°æ–¹å­ç±»å°±èƒ½å‡ºç°
  - JSä¸­ä½¿ç”¨è¾ƒå°‘(å¼±ç±»å‹&ç»§æ‰¿ä½¿ç”¨è¾ƒå°‘)
- I - æ¥å£ç‹¬ç«‹åŸåˆ™ (interface è·ŸSå·®ä¸å¤šç”¨åˆ°æ¥å£ä¸Šäº†)
  - ä¿æŒæ¥å£çš„å•ä¸€ç‹¬ç«‹ï¼Œé¿å…å‡ºç°â€œèƒ–æ¥å£â€
  - JSä¸­æ²¡æœ‰æ¥å£(tsä¾‹å¤–)ï¼Œä½¿ç”¨è¾ƒå°‘
  - ç±»ä¼¼äºå•ä¸€èŒè´£åŸåˆ™ï¼Œè¿™é‡Œæ›´å…³æ³¨æ¥å£
- D - ä¾èµ–å¯¼è‡´åŸåˆ™ (Dependencyå³ç¼–ç¨‹è¦ä¾èµ–äºæŠ½è±¡ä¾èµ–äºæ¥å£è€Œä¸æ˜¯ä¾èµ–äºå…·ä½“çš„å®ç°--æœ‰ç‚¹åƒå‡½æ•°å¼ç¼–ç¨‹çš„ä»£æ•°æ•ˆåº”)
  - é¢å‘æ¥å£ç¼–ç¨‹ï¼Œä¾èµ–äºæŠ½è±¡è€Œä¸ä¾èµ–äºå…·ä½“
  - ä½¿ç”¨æ–¹åªå…³æ³¨æ¥å£è€Œä¸å…³æ³¨å…·ä½“ç±»çš„å®ç°
  - JSä¸­ä½¿ç”¨è¾ƒå°‘(æ²¡æœ‰æ¥å£&å¼±ç±»å‹)

- è®¾è®¡åŸåˆ™æ€»ç»“
  - SO jsä¸­ä½“ç°è¾ƒå¤šï¼Œè¯¦ç»†ä»‹ç»
  - LID jsä¸­ä½“ç°è¾ƒå°‘ï¼Œä½†æ˜¯è¦äº†è§£å…¶ç”¨æ„

![promsie-so](img/promise-so.png)
![promsie-so2](img/promise-so2.png)

- ä¸Šå›¾ å•ä¸€èŒè´£åŸåˆ™ï¼šæ¯ä¸ªthenä¸­çš„é€»è¾‘åªåšå¥½ä¸€ä»¶äº‹
- å¼€æ”¾å°é—­åŸåˆ™ï¼šå¦‚æœæ–°å¢éœ€æ±‚ï¼Œæ‰©å±•thenå³å¯ä¸éœ€ä¿®æ”¹ä¹‹å‰thençš„é€»è¾‘
- å¯¹æ‰©å±•å¼€æ”¾å¯¹ä¿®æ”¹å°é—­

### ç”¨promiseä»£ç æ¼”ç¤º

ç•¥

### è®¾è®¡æ¨¡å¼ç®€ä»‹

#### ä»è®¾è®¡åˆ°æ¨¡å¼

- è¿™å››ä¸ªå­—æ˜¯åˆ†å¼€çš„ï¼Œå…ˆè®¾è®¡å†æ¨¡å¼ï¼Œè®¾è®¡åŸåˆ™æ˜¯ç»Ÿä¸€çš„æŒ‡å¯¼æ€æƒ³ï¼Œè®¾è®¡æ¨¡å¼å°±æ˜¯æ ¹æ®æŒ‡å¯¼æ€æƒ³ç»“åˆæ—¥å¸¸çš„å¼€å‘ç»éªŒæ€»ç»“å‡ºæ¥çš„å›ºå®šçš„å‡ ä¸ªå…¸å‹çš„è®¾è®¡æ¨¡ç‰ˆ

### 23ç§è®¾è®¡æ¨¡å¼ä»‹ç»

23ç§è®¾è®¡æ¨¡å¼ä¹Ÿæ˜¯åˆ†ç»„çš„

- åˆ›å»ºå‹(å¯¹è±¡æ˜¯æ€ä¹ˆåˆ›å»ºå‡ºæ¥çš„æ€ä¹ˆå»ç”Ÿæˆ)
  - å·¥å‚æ¨¡å¼(å·¥å‚æ–¹æ³•æ¨¡å¼ï¼ŒæŠ½è±¡å·¥å‚æ¨¡å¼ï¼Œå»ºé€ è€…æ¨¡å¼)
  - å•ä¾‹æ¨¡å¼
  - åŸå‹æ¨¡å¼
- ç»„åˆå‹(è¿™äº›ç±»å¯¹è±¡åˆ°åº•æ˜¯ä¸ªæ€ä¹ˆæ ·çš„ç»„åˆå½¢å¼ï¼Œå› ä¸ºæœ‰æ—¶å€™å•é ä¸€ä¸ªç±»æ˜¯å®ç°ä¸äº†åŠŸèƒ½ï¼Œå¿…é¡»æ˜¯ç›¸äº’ç»„åˆæ‰è¡Œ)
  - é€‚é…å™¨æ¨¡å¼
  - è£…é¥°å™¨æ¨¡å¼
  - ä»£ç†æ¨¡å¼
  - å¤–è§‚æ¨¡å¼
  - æ¡¥æ¥æ¨¡å¼
  - ç»„åˆæ¨¡å¼
  - äº«å…ƒæ¨¡å¼
- è¡Œä¸ºå‹(æœ‰å‡ ä¸ªè®¾è®¡æ¨¡å¼æ¶µç›–äº†æ—¥å¸¸å¼€å‘ä¸­çš„ä¸€äº›è¡Œä¸ºï¼Œè¿™äº›è¡Œä¸ºåº”è¯¥æ€æ ·å»å¸ƒç½®æ€æ ·å¼€å‘æ‰èƒ½æ»¡è¶³è®¾è®¡åŸåˆ™)
  - ç­–ç•¥æ¨¡å¼
  - æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼
  - è§‚å¯Ÿè€…æ¨¡å¼ ğŸ‘Š
  - è¿­ä»£å™¨æ¨¡å¼ ğŸ‘Š
  - èŒè´£è¿æ¨¡å¼
  - å‘½ä»¤æ¨¡å¼
  - å¤‡å¿˜å½•æ¨¡å¼
  - çŠ¶æ€æ¨¡å¼ ğŸ‘Š
  - è®¿é—®è€…æ¨¡å¼
  - ä¸­ä»‹è€…æ¨¡å¼
  - è§£é‡Šå™¨æ¨¡å¼

#### åˆ†ä¼˜å…ˆçº§

- å‰ç«¯å¸¸ç”¨è®¾è®¡æ¨¡å¼(8ç§å·¦å³)ï¼Œè¯¦è®²
- å‰ç«¯éå¸¸ç”¨è®¾è®¡æ¨¡å¼ï¼Œç•¥è®²
- å‰ç«¯å°‘ç”¨è®¾è®¡æ¨¡å¼ï¼Œä»‹ç»
- æ˜ç™½æ¯ä¸ªè®¾è®¡çš„é“ç†å’Œç”¨æ„
- é€šè¿‡ç»å…¸åº”ç”¨ä½“ä¼šå®ƒçš„çœŸæ­£ä½¿ç”¨åœºæ™¯
- è‡ªå·±ç¼–ç æ—¶å¤šæ€è€ƒï¼Œå°½é‡æ¨¡ä»¿

### é¢è¯•çœŸé¢˜(é¢å‘å¯¹è±¡è®¾è®¡èƒ½åŠ›ç›¸å…³)

> è®¾è®¡é¢˜æ—¶ï¼Œåè¯æ³¨æ„å†™æˆç±»ï¼Œç±»æ³¨æ„solidåŸåˆ™ï¼Œç±»é—´å…³ç³»ä¸æ˜¯ç»§æ‰¿å°±å¼•ç”¨ï¼Œå¤§èƒ†è®¾è®¡

#### ç¬¬1é¢˜

**æè¿°:** æ‰“è½¦æ—¶ï¼Œå¯ä»¥æ‰“ä¸“è½¦æˆ–è€…å¿«è½¦ï¼Œä»»ä½•è½¦éƒ½æœ‰è½¦ç‰Œå·å’Œåç§°ã€‚ä¸åŒè½¦ä»·æ ¼ä¸åŒï¼Œå¿«è½¦æ¯å…¬é‡Œ1å…ƒï¼Œä¸“è½¦æ¯å…¬é‡Œ2å…ƒï¼Œè¡Œç¨‹å¼€å§‹æ—¶ï¼Œæ˜¾ç¤ºè½¦è¾†ä¿¡æ¯ã€‚è¡Œç¨‹ç»“æŸæ—¶ï¼Œæ˜¾ç¤ºæ‰“è½¦é‡‘é¢(å‡å®šè¡Œç¨‹å°±5å…¬é‡Œ)

- ç”»å‡ºUMLç±»å›¾
- ç”¨ES6è¯­æ³•å†™å‡ºè¯¥ç¤ºä¾‹
**åˆ†æ:** åˆ†ææŠ€å·§ï¼Œå°±æŠ“é¢˜ç›®ä¸­(å…³é”®åè¯)æ¥åˆ†æï¼Œå°±æ˜¯è¦å…ˆåˆ†æå‡ºå¯ä»¥åˆ’åˆ†æˆå¤šå°‘ä¸ªç±»ï¼Œé¦–å…ˆ
- ä»»ä½•è½¦: å…¬å…±çˆ¶ç±»ï¼Œæ‰€å«å±æ€§ï¼šè½¦ç‰Œå·ï¼Œåç§°
- ä¸“è½¦ å¿«è½¦ ä½œä¸ºä¸¤ä¸ªå­ç±»ï¼Œç»§æ‰¿äºè½¦è¿™ä¸ªçˆ¶ç±»ï¼Œä¸¤ä¸ªå­ç±»æ‰€å«å±æ€§ï¼šå…¬é‡Œä»·æ ¼
- è¡Œç¨‹åªå’Œçˆ¶ç±»è½¦æœ‰å…³è”å…³ç³»ï¼Œå•ç‹¬ä½œä¸ºä¸€ä¸ªè¡Œç¨‹çš„ç±»ï¼Œè¯¥ç±»æ‰€å«æ–¹æ³•ï¼šè·å¾—æ‰“è½¦é‡‘é¢ï¼Œè·å¾—è¡Œç¨‹è·ç¦»ï¼Œæ‰€å«å±æ€§ï¼šæ˜¯å¼•ç”¨è½¦è¿™ä¸ªç±»
**è§£ç­”:**
![æ‰“è½¦ç±»å›¾](img/æ‰“è½¦ç±»å›¾.png)

> ç­”æ¡ˆä»£ç è§es6/src/09-1-é¢è¯•é¢˜ç¬¬ä¸€é¢˜jsæ–‡ä»¶

#### ç¬¬2é¢˜

**æè¿°:** æŸåœè½¦åœºï¼Œåˆ†3å±‚ï¼Œæ¯å±‚100è½¦ä½ï¼Œæ¯ä¸ªè½¦ä½éƒ½èƒ½ç›‘æ§åˆ°è½¦è¾†çš„é©¶å…¥å’Œç¦»å¼€ï¼Œè½¦è¾†è¿›å…¥å‰ï¼Œæ˜¾ç¤ºæ¯å±‚çš„ç©ºä½™è½¦ä½æ•°é‡ï¼Œè½¦è¾†è¿›å…¥æ—¶ï¼Œæ‘„åƒå¤´å¯è¯†åˆ«è½¦ç‰Œå·å’Œæ—¶é—´ï¼Œè½¦è¾†å‡ºæ¥æ—¶ï¼Œå‡ºå£æ˜¾ç¤ºå™¨æ˜¾ç¤ºè½¦ç‰Œå·å’Œåœè½¦æ—¶é•¿

- ç”»å‡ºUMLç±»å›¾
- ç”¨ES6è¯­æ³•å†™å‡ºè¯¥ç¤ºä¾‹

> **åˆ†æ:** åˆ†ææŠ€å·§ï¼Œå°±æŠ“é¢˜ç›®ä¸­(å…³é”®åè¯)æ¥åˆ†æï¼Œåº”è¯¥é¦–å…ˆåˆ’åˆ†å‡ºéœ€å«å¤šå°‘ä¸ªç±»(ç„¶ååˆ¤æ–­å‡ºæ¯ä¸ªåæ¬¡ç±»æœ‰å“ªäº›è§¦å‘æ¡ä»¶å»æœ‰ç›¸åº”çš„ä»€ä¹ˆåŠŸèƒ½éœ€æ±‚å’Œè‡ªç„¶å±æ€§---å…¶ä¸­è§¦å‘æ¡ä»¶æ•°é‡å°±å¯ä»¥è½¬åŒ–ä¸ºå¤–ç•Œå¯éšæ—¶è°ƒç”¨çš„ç±»çš„æ–¹æ³•æ•°é‡)

- ç¬¬ä¸€å¥è¯ï¼Œå°±å¯ä»¥åˆ†å‡º**4ä¸ªç±»**ï¼Œåœè½¦åœºå¤§ç±»ï¼Œå±‚ä½œä¸ºå­ç±»ï¼Œè½¦ä½ä½œä¸ºå±‚çš„å­ç±»ï¼Œæ¯ä¸ªè½¦ä¹Ÿä½œä¸ºä¸€ä¸ªè½¦Carç±»

---

- è½¦ä½ç±»: ä¸éœ€æ¥å—å‚æ•°åˆå§‹åŒ–å®ä¾‹ã€‚é©¶å…¥å’Œç¦»å¼€æ˜¯ä¸¤ä¸ªè§¦å‘æ¡ä»¶å°±è¯¥è®¾æˆ2ä¸ªå¤–ç•Œå¯éšæ—¶è°ƒç”¨çš„æ–¹æ³•---å³å¯éœ€å«æ–¹æ³•ï¼šé©¶å…¥æ–¹æ³•å’Œç¦»å¼€æ–¹æ³•å»ç›‘æ§è½¦è¾†çš„é©¶å…¥é©¶å‡ºæ”¹å˜å†…éƒ¨æ˜¯å¦ä¸ºç©ºå±æ€§ï¼Œéœ€å«å±æ€§ï¼šå½“å‰è½¦ä½æ˜¯å¦ä¸ºç©º ä¸éœ€è¦æ¥å—å‚æ•° ç›´æ¥ç»´æŠ¤å†…éƒ¨emptyå±æ€§å³å¯
- æ‘„åƒå¤´åæ¬¡ä½œä¸ºä¸€ä¸ªç±»ï¼šä¸éœ€æ¥å—å‚æ•°åˆå§‹åŒ–ã€‚å…·å¤‡è¯†åˆ«è½¦ç‰Œå·å’Œè¿›å…¥æ—¶é—´ä¸¤åŠŸèƒ½ä½œä¸ºè¯¥ç±»ç»Ÿä¸€shotæ–¹æ³•è®¡ç®—å‡ºï¼Œè¯¥æ–¹æ³•å¯ä»¥æ¥å—æŸä¸ªè½¦å®ä¾‹ä½œä¸ºå‚æ•°å»è®¡ç®—ä¿¡æ¯
- æ˜¾ç¤ºå™¨åè¯ä½œä¸ºä¸€ä¸ªç±»ï¼šä¸éœ€æ¥å—åˆå§‹åŒ–å‚æ•°ã€‚å…·å¤‡è¯†åˆ«è½¦ç‰Œå·å’Œè®¡ç®—åœè½¦å¸‚åœº--ä¹Ÿå¯ä»¥æ¥å—æŸä¸ªè½¦å®ä¾‹å»è®¡ç®—ä¿¡æ¯

---

- **åœè½¦åœºç±»**ï¼šæ¥å—å±‚æ•°æ¥åˆå§‹åŒ–åœè½¦åœºå®ä¾‹ã€‚è¿›å…¥æ—¶ï¼Œè¿›å…¥å‰ï¼Œå‡ºæ¥æ—¶ éƒ½å¯ä½œä¸ºåœè½¦åœºçš„3ä¸ªè§¦å‘æ¡ä»¶å³è®¾ä¸ºå¤–ç•Œå¯è°ƒç”¨çš„3ä¸ªæ–¹æ³•
- å‡ºæ¥æ—¶ï¼šéœ€è¦å…·å¤‡è°ƒç”¨æ˜¾ç¤ºå™¨ç±»å¾—åˆ°ä»–çš„è®¡ç®—ä¿¡æ¯---> éœ€å…³è”æ˜¾ç¤ºå™¨ç±»
- è¿›å…¥æ—¶ï¼šéœ€è¦å…·å¤‡è°ƒç”¨æ‘„åƒå¤´ç±»å¾—åˆ°ä»–çš„ä¿¡æ¯---> éœ€å…³è”æ‘„åƒå¤´ç±»å’Œè½¦ç±»
- è¿›å…¥å‰ï¼šéœ€å…·å¤‡è°ƒç”¨å±‚ç±»å¾—åˆ°å„å±‚è¯¥æä¾›çš„è½¦ä½ä¿¡æ¯ ---> éœ€å…³è”å±‚ç±»å¥—è½¦ä½ç±»æ•°ç»„å‹

---

- **å±‚ç±»**ï¼šæ¥å—å±‚æ•°å’Œè½¦ä½æ•°æ®æ¥åˆå§‹åŒ–å½“å‰å±‚çš„å®ä¾‹ï¼Œéœ€è¦å…·å¤‡æä¾›å½“å‰å±‚ç©ºä½™è½¦ä½çš„æ•°é‡ ----> éœ€å…³è”è½¦ä½ç±»ä»¥æ•°ç»„å‹è½¦ä½ç±»å®ä¾‹ä½œä¸ºå±‚ç±»å‚æ•°ï¼Œä½œä¸ºå†…éƒ¨å€¼å¼•ç”¨ æä¾›å¤–ç•Œå¯è°ƒç”¨çš„è®¿é—®å½“å‰å±‚ç©ºä½™è½¦ä½çš„æ–¹æ³•
---
- è½¦è¾†è¿›å…¥å‰ï¼šè¿™æ—¶é¢å¯¹çš„æ˜¯åœè½¦åœºè¿™ä¸ªå¤§ç±»ï¼Œ-- è½¦åœºç±»éœ€å«æ–¹æ³•ï¼šè½¦è¾†è¿›å…¥å‰çŠ¶æ€æ–¹æ³•+è°ƒç”¨æ‰€æœ‰å±‚ç±»æ–¹æ³•æ±‡æ€»æ˜¾ç¤ºæ‰€æœ‰å±‚ç©ºä½æ•°é‡ï¼Œå±‚ç±»éœ€å«æ–¹æ³•ï¼šæ˜¾ç¤ºå½“å‰å±‚çš„ç©ºä½æ•°é‡
- éœ€è¦ä¸€ä¸ªæ‘„åƒå¤´ç±»ä½œä¸ºåœè½¦åœºçš„å…³è”ç±»ï¼Œè¯¥ç±»è¾“å…¥æ˜¯å½“å‰è¿›å…¥è½¦è¾†ä¿¡æ¯ï¼Œéœ€å«æ–¹æ³•ï¼šshotæ–¹æ³•â€”å¯ä»¥å°†å½“å‰è½¦è¾†ä¿¡æ¯ä¿é€åˆ°åœè½¦åœºç±»ä¸­çš„è½¦è¾†åˆ—è¡¨å±æ€§ä¸­ï¼Œæ‰€ä»¥åœè½¦åœºç±»è¿˜éœ€è¦ä¸€ä¸ªè½¦è¾†åˆ—è¡¨å±æ€§
- å‡ºå£æ˜¾ç¤ºå™¨è¿™ä¸ªåè¯ä¹Ÿè¦ä½œä¸ºä¸€ä¸ªç±»ï¼Œè¾“å‡ºçš„å½“å‰é©¶å‡ºè½¦è¾†çš„è½¦ç‰Œå·ï¼Œå’Œåœè½¦æ—¶é•¿
**è§£ç­”:**
![åœè½¦åœºç±»å›¾](img/åœè½¦åœºç±»å›¾.png)

> ç­”æ¡ˆä»£ç è§es6/src/09-2-é¢è¯•é¢˜ç¬¬äºŒé¢˜jsæ–‡ä»¶

## å·¥å‚æ¨¡å¼

### ä»‹ç»

- å°†newæ“ä½œå•ç‹¬å°è£…,å¤–ç•Œä½¿ç”¨ä¹Ÿç®€åŒ–äº†newçš„ç¹çï¼Œä¸ä¼šå‘ä½¿ç”¨è€…æš´æ¼å‡ºå®é™…æ„é€ å‡½æ•°çš„ä¿¡æ¯ï¼Œå¯¹å¤–æš´æ¼çš„åªæ˜¯æ— å…³ç´§è¦çš„è‡ªå®šä¹‰çš„ä¸€ä¸ªå·¥å‚å‡½æ•°åå­—ï¼Œéšç§˜æ€§å®‰å…¨
- é‡åˆ°newæ—¶ï¼Œå°±è¦è€ƒè™‘æ˜¯å¦è¯¥ä½¿ç”¨å·¥å‚æ¨¡å¼

**ç¤ºä¾‹**: ä½ å»è´­ä¹°æ±‰å ¡ï¼Œç›´æ¥ç‚¹é¤ï¼Œå–é¤ï¼Œä¸ä¼šè‡ªå·±äº²æ‰‹åšï¼Œå•†åº—è¦â€œå°è£…â€åšæ±‰å ¡çš„å·¥ä½œï¼Œåšå¥½ç›´æ¥ç»™ä¹°è€…

### -UMLç±»å›¾

![gongchangleitu1](img/å·¥å‚æ¨¡å¼ç±»å›¾1.png)
![gongchangleitu2](img/å·¥å‚æ¨¡å¼ç±»å›¾2.png)

### æ¼”ç¤ºåœºæ™¯

```javascript
class Product {
  constructor(name) {
    this.name = name;
  }
  init() {
    alert('init')
  }
  fun1() {
    alert('fun1')
  }
  fun2() {
    alert('fun2')
  }
}

class Creator {// å®ƒå°±æ˜¯ä¸€ä¸ªå·¥å‚ï¼Œé‡Œé¢çš„crerateæ˜¯å·¥å‚å‡½æ•°ï¼Œå°†newæ“ä½œå•ç‹¬å°è£…
  create(name) {
    return new Product(name)
  }
}

// æµ‹è¯•
let creator = new Creator()// è¿”å›äº†ä¸€ä¸ªå·¥å‚å‡½æ•°
let p = creator.create('p1')
p.init()
p.fun1()
```

#### é€‚ç”¨åœºæ™¯

- jQuery - $('div')
  - $('div')å’Œç›´æ¥new jQuery('div')åŒºåˆ«
  - ç¬¬ä¸€ï¼Œä¹¦å†™éº»çƒ¦ï¼ŒjQueryçš„é“¾å¼æ“ä½œå°†æˆä¸ºå™©æ¢¦
  - ç¬¬äºŒï¼Œä¸€æ—¦jQueryåå­—å˜åŒ–ï¼Œå°†æ˜¯ç¾éš¾æ€§çš„
- React.createElement()

```javascript
// è¿™æ˜¯ä¸€æ®µjsxï¼Œreactä¼šè§£æåˆ°è¿™æ®µjsxç»“æ„è½¬è¯‘æˆcreateElementçš„å½¢å¼
var profile = <div><h3>{[user.firstName, user.lastName].join(' ')}</h3></div>
var profile = React.createElement('div', null,
  React.createElement('h3', null, [user.firstName, user.lastName].join(' '))
)
// React.createElement()å°±æ˜¯ä¸€ä¸ªå·¥å‚å‡½æ•°ï¼Œæ¯æ¬¡è°ƒç”¨è¿”å›çš„éƒ½æ˜¯ä¸€ä¸ªæ–°çš„vdomå®ä¾‹
class Vnode(tag, attrs, children) {
  // çœç•¥å†…éƒ¨ä»£ç ...
}
React.createElement = function (tag, attrs, children) {
  return new Vnode(tag, attrs, children)
}
```

- vueå¼‚æ­¥ç»„ä»¶

![vueyibuzujian](img/vueå¼‚æ­¥ç»„ä»¶.png)

#### ä¸¤å¥é¢˜å¤–è¯

- èŠä¸€èŠé˜…è¯»ç»å…¸libèµ„æºåº“æºç çš„æ„ä¹‰
  - å­¦ä¹ åŠŸèƒ½å¦‚ä½•å®ç°
  - å­¦ä¹ ä»–çš„è®¾è®¡æ€è·¯ï¼Œè¿™ä¹ˆå¤æ‚çš„åŠŸèƒ½å®ç°åˆ°åº•æ˜¯æ€ä¹ˆè®¾è®¡çš„
  - å¼ºåˆ¶è‡ªå·±æ¨¡æ‹Ÿå…¶ä»£ç å®ç°
- èŠä¸€èŠåˆ›æ–°å’Œæ‹¿æ¥ä¸»ä¹‰
  - ä¸éœ€è¦ä½ è€æƒ³ç€åˆ›æ–°ï¼ŒæŠŠå‰äººå†™çš„éƒ½ä¼šäº† èƒ½æŒæ¡äº†ä½ å†åˆ›æ–°

### è®¾è®¡åŸåˆ™éªŒè¯

- æ„é€ å‡½æ•°å’Œåˆ›å»ºåˆ†ç¦»S
- ç¬¦åˆå¼€æ”¾å°é—­åŸåˆ™O

## å•ä¾‹æ¨¡å¼

### ä»‹-ç»

- ç³»ç»Ÿä¸­è¢«å”¯ä¸€ä½¿ç”¨
- ä¸€ä¸ªç±»åªåˆå§‹åŒ–ä¸€ä¸ªå®ä¾‹ï¼Œä¸èƒ½è®©ç”¨æˆ·å¾ˆè½»æ˜“åœ°å°±å£°æ˜å‡ºä¸€ä¸ªå¯¹è±¡æ¥ï¼Œä½œä¸ºé¡¹ç›®ä¸­å…¨å±€å”¯ä¸€çš„ä¸œè¥¿
- å•ä¾‹æ¨¡å¼éœ€è¦ç”¨åˆ°javaçš„ç‰¹æ€§(private)
- ES6ä¸­æ²¡æœ‰(tsé™¤å¤–)
- åªèƒ½ç”¨javaä»£ç æ¥æ¼”ç¤ºUMLç±»å›¾å†…å®¹
- å•ä¾‹æ¨¡å¼æ˜¯æ¯æ¬¡è·å–çš„éƒ½æ˜¯åŒä¸€ä¸ªä¸œè¥¿ï¼Œæ¯”è¾ƒéƒ½ä¸ºtrueçš„
- jsä¸­å•ä¾‹æ¨¡å¼ä¸€èˆ¬éƒ½ç”¨é—­åŒ…å†™

![danlileitu](img/å•ä¾‹æ¨¡å¼ç±»å›¾.png)

```javascript
// JSä¸­ä½¿ç”¨å•ä¾‹æ¨¡å¼
// JSå†™æœ‰ä¸ªç¼ºç‚¹æ˜¯ä¸èƒ½åƒjavaçš„å•ä¾‹æ¨¡å¼é‚£æ ·ç§æœ‰åŒ–å®ƒçš„æ„é€ å‡½æ•°ï¼Œè¿™ä¸ªèƒ½åšåˆ°å•ä¾‹ä½†æ˜¯å¤–ç•Œç›´æ¥newæ„é€ å‡½æ•°è¿˜æ˜¯ä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯ç”¨javaçš„è¯ç§æœ‰åŒ–å†™æˆçš„å•ä¾‹æ¨¡å¼ç›´æ¥newä¼šæŠ¥é”™ï¼Œåªèƒ½è®©ä½ ç”¨é™æ€å‡½æ•°è·å–å•ä¾‹
class SingleObject {
  login() {
    console.log('login...')
  }
}
SingleObject.getInstance = (function() {
  let instance;
  return function () {
    if (!instance) {
      instance = new SingleObject();
    }
    return instance;
  }

})()
// æµ‹è¯•ï¼šæ³¨æ„è¿™é‡Œåªèƒ½ä½¿ç”¨é™æ€å‡½æ•°getInstanceï¼Œä¸èƒ½new SingleObject()
let obj1 = SingleObject.getInstance()
obj1.login()
let obj2 = SingleObject.getInstance()
obj2.login()
console.log(obj1 === obj2) // ä¸¤è€…å®Œå…¨ç›¸ç­‰çš„
```

#### ç¤ºä¾‹

- ç™»é™†æ¡†
- è´­ç‰©è½¦

å¦‚ä¸€ä¸ªç³»ç»Ÿä¸­é€šå¸¸éƒ½åªä¼šæœ‰ä¸€ä¸ªç™»é™†æ¡†å’Œä¸€ä¸ªè´­ç‰©è½¦éƒ½åº”è¯¥æ˜¯å•ä¾‹æ¨¡å¼å•ä¾‹å‡ºæ¥çš„ï¼Œä¸‡ä¸€ç³»ç»Ÿä¸­ä¸å°å¿ƒå‡ºç°å¤šä¸ªç™»é™†æ¡†å®ä¾‹å°±ä¼šå¾ˆéº»çƒ¦

### æ¼”ç¤º

> æ¼”ç¤ºä»£ç è§01-å•ä¾‹æ¨¡å¼-1jsæ–‡ä»¶

### åœºæ™¯

- jQueryåªæœ‰ä¸€ä¸ª$
  - å°±ç®—ä½ é¡¹ç›®ä¸­å¼•ç”¨jqueryå¥½å‡ éï¼Œæœ€åä¹Ÿæ˜¯åªæœ‰åŒä¸€ä¸ªç›¸åŒçš„$

```javascript
// jQuery åªæœ‰ä¸€ä¸ª$
if (window.jQuery != null) {// å¦‚æœå½“å‰ç¯å¢ƒå·²ç»è¢«å¼•ç”¨è¿‡äº†å°±ç›´æ¥è¿”å›å¼•ç”¨è¿‡çš„å³å¯
  return window.jQuery
}
else {
  // åˆå§‹åŒ–..
}
```

- æ¨¡æ‹Ÿç™»é™†æ¡†
  - ***å…·ä½“è§01-å•ä¾‹æ¨¡å¼-2.jsæ–‡ä»¶***
- è´­ç‰©è½¦(ç™»é™†æ¡†ç±»ä¼¼)
- vuexå’Œreduxä¸­çš„store
  - åŒä¸€ä¸ªé¡¹ç›®ä¸­æ¯ä¸ªæ–‡ä»¶æ¨¡å—ä¸­è·å–storeå¿…é¡»æ˜¯å•ä¾‹çš„ï¼Œå¦åˆ™storeå°±ä¸ç»Ÿä¸€äº†ï¼Œä¿®æ”¹æ•°æ®éƒ½ä¹±äº†

### -è®¾è®¡åŸåˆ™éªŒè¯

- ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™ï¼Œåªå®ä¾‹åŒ–å”¯ä¸€çš„å¯¹è±¡
- æ²¡æ³•å…·ä½“ä½“ç°å¼€æ”¾å°é—­åŸåˆ™ï¼Œä½†æ˜¯ç»å¯¹ä¸è¿åå¼€æ”¾å°é—­åŸåˆ™

## é€‚é…å™¨æ¨¡å¼

### -ä»‹ç»

- æ—§æ¥å£æ ¼å¼å’Œä½¿ç”¨è€…ä¸å…¼å®¹
- ä¸­é—´åŠ ä¸€ä¸ªé€‚é…è½¬æ¢æ¥å£

![shipeiqileitu](img/é€‚é…å™¨ç±»å›¾.png)
å›¾ä¸­çš„Targetå°±æ˜¯ä¸ªé€‚é…å™¨æ„é€ å‡½æ•°ï¼Œè½¬æ¢Adapteeè¿”å›ç»“æœä¾›ç»™Clientä½¿ç”¨

### ä»£ç æ¼”ç¤º

```javascript
class Adaptee {
  specificRequest() {
    return 'å¾·å›½æ ‡å‡†æ’å¤´'
  }
}

class Target {
  constructor() {
    this.adaptee = new Adaptee()
  }
  request() {
    let info = this.adaptee.specificRequest()
    return `${info} - è½¬æ¢å™¨ - ä¸­å›½æ ‡å‡†æ’å¤´`
  }
}

// æµ‹è¯•
let target = new Target()
let res = target.request()
console.log(res)
```

### -åœºæ™¯

#### å°è£…æ—§æ¥å£

#### vueçš„computed

- vueä¸­çš„è®¡ç®—å±æ€§å°±æ˜¯stateçŠ¶æ€å€¼çš„é€‚é…å™¨æ¨¡å¼å‡½æ•°ï¼Œè¿”å›çš„æ˜¯è½¬æ¢åçš„æ–°å€¼

```javascript
var vm = new Vue({
  el: '#app',
  data: {
    message: 'hello'
  },
  computed: {
    reverseMessage: function() {
      return this.message.split('').reverse().join('')
    }
  }
})
```

### è®¾è®¡-åŸåˆ™éªŒè¯

- å°†æ—§æ¥å£å’Œä½¿ç”¨è€…è¿›è¡Œåˆ†ç¦»(ä¸­é—´åŠ äº†é€‚é…å™¨è¿›è¡Œåˆ†ç¦»çš„)
- ç¬¦åˆå¼€æ”¾å°é—­åŸåˆ™

## è£…é¥°å™¨æ¨¡å¼

### ä»‹ç»-

- ä¸ºå¯¹è±¡æ·»åŠ æ–°åŠŸèƒ½
- ä¸æ”¹å˜å…¶åŸæœ‰çš„ç»“æ„å’ŒåŠŸèƒ½

**ç¤ºä¾‹**: å¦‚æ‰‹æœºå£³å°±æ˜¯ç›¸å½“äºä¸€ä¸ªæ‰‹æœºçš„è£…é¥°å™¨ï¼Œä¸æ”¹å˜æ‰‹æœºçš„åŠŸèƒ½å¤–è§‚ï¼Œä¸ºæœŸå¢åŠ äº†å£³å­çš„ç¾åŒ–åŠŸèƒ½

#### ç±»å›¾

![zhuangshiqileitu](img/è£…é¥°å™¨ç±»å›¾.png)

#### -ä»£ç æ¼”ç¤º

```javascript
class Circle {
  draw() {
    console.log('ç”»ä¸€ä¸ªå›¾å½¢')
  }
}

class Decorator {
  constructor(circle) {
    this.circle = circle
  }
  draw() {
    this.circle.draw()
    this.setRedBorder(circle)
  }
  setRedBorder() {
    console.log('è®¾ç½®çº¢è‰²è¾¹æ¡†')
  }
}

// æµ‹è¯•ä»£ç 
let circle = new Circle()
circle.draw()

let dec = new Decorator(circle)// è£…é¥°ä¸€ä¸‹
dec.draw()
```

### åœºæ™¯ä¸€ï¼šES7è£…é¥°å™¨

#### é…ç½®ç¯å¢ƒ

- ç›®å‰node6.å‡ ç‰ˆæœ¬å’Œv8å¼•æ“ä¸­æš‚æ—¶è¿˜ä¸æ”¯æŒES7è£…é¥°å™¨è¯­æ³•ï¼Œbabelç›¸å…³æ’ä»¶å·²ç»æ”¯æŒè‡ªåŠ¨è¯†åˆ«è½¬åŒ–è¿™ç§è¯­æ³•ï¼Œæ‰€ä»¥éœ€è¦æˆ‘ä»¬å®‰è£…ä¸‹è¿™ä¸ªæ’ä»¶ç®€å•é…ç½®ä¸‹æ”¯æŒç¯å¢ƒ
- `npm i babel-plugin-transform-decorators-legacy --save-dev`
  - å®‰å®Œååœ¨ä¹‹å‰babelrcçš„é…ç½®æ–‡ä»¶ä¸­pluginsæ•°ç»„ä¸­åŠ ä¸Šè¯¥æ’ä»¶åå³å¯
- ç„¶åå†é‡æ–°å¯åŠ¨çš„æ—¶å€™ï¼Œnpm run devï¼Œå°±èƒ½è‡ªåŠ¨è¯†åˆ«ä»£ç ä¸­çš„ES7è¯­æ³•äº†

#### è£…é¥°ç±»

```javascript
// 1- ä¸€ä¸ªç®€å•çš„demo
@testDec
class Demo {
  // ...
}
function testDec(target) {
  target.isDec = true
}
alert(Demo.isDec) // true

// 2- ä¼ å‚æ•°çš„Demo  è£…é¥°å™¨ä¼ å‚æ•°çš„æ—¶å€™ï¼Œè£…é¥°å™¨å‡½æ•°å¿…é¡»å†™æˆé—­åŒ…çš„å½¢å¼returnå‡ºä¸ªå‡½æ•°æ‰è¡Œ
function testDec(isDec) {
  return function(target) {
    target.isDec = isDec
  }
}
@testDec(true)
class Demo {
  // ...
}
// 3- mixinç¤ºä¾‹ï¼šmixinsåŸç†å°±æ˜¯è£…é¥°å™¨è®¾è®¡æ¨¡å¼ï¼Œè¯¥ç¤ºä¾‹è§ es6/src/02-è£…é¥°å™¨-1jsæ–‡ä»¶
function mixins(...list) {
  return function(target) {
    Object.assign(target.prototype, ...list)
  }
}
const Foo = {
  foo() {alert('foo')}
}
@mixins(Foo)
class MyClass {}

let obj = new MyClass()
obj.foo()// 'foo'

// è£…é¥°å™¨åŸç†
@decorator
class A {}

// ç­‰åŒäº
class A {}
A = decorator(A) || A;
```

#### è£…é¥°æ–¹æ³•

- é¦–å…ˆæ–¹æ³•è£…é¥°å™¨ï¼Œçš„è‡ªå®šä¹‰å‡½æ•°ä¸­çº¦å®šå¥½çš„æ˜¯æ¥å—3ä¸ªå‚æ•°ï¼Œ(target, name, descriptor) å¯ä»¥åšæ–¹æ³•åçš„æè¿°å™¨æ›´æ”¹ã€‚æ–¹æ³•è£…é¥°å™¨è‡ªå®šä¹‰å‡½æ•°å¾—è¿”å›descriptor
- ä¾‹1: ç¤ºä¾‹è§ es6/src/02-è£…é¥°å™¨-2.jsæ–‡ä»¶
- ä¾‹2: ç¤ºä¾‹è§ es6/src/03-è£…é¥°å™¨-3.jsæ–‡ä»¶

### åœºæ™¯äºŒï¼šcore-decorators

> ç¤ºä¾‹ä»£ç è§es6/src/04-è£…é¥°å™¨-4.jsæ–‡ä»¶

- ç¬¬ä¸‰æ–¹å¼€æºçš„lib`npm i core-decorators --save`
- æä¾›å¸¸ç”¨çš„è£…é¥°å™¨

```javascript
// é¦–å…ˆå®‰è£… npm i core-decorators --save

// 1- readonlyè£…é¥°å™¨
import {readonly} from 'core-decorators'

class Person {
  @readonly
  name() {
    return 'zhang'
  }
}
let p = new Person()
alert(p.name())
// p.name = function() {} é‡æ–°èµ‹å€¼å°±ä¼šæŠ¥é”™

// 2- deprecateè£…é¥°å™¨
// è¿™ä¸ªè£…é¥°å™¨çš„ä½œç”¨å°±æ˜¯æˆ‘ä»¬åœ¨å®‰è£…åŒ…æ—¶æˆ–æ§åˆ¶å°ä¸­å¸¸è§çš„deprecateé€šçŸ¥æ•ˆæœï¼Œå½“æˆ‘ä»¬å‘å¸ƒä¸€ä¸ªåŒ…ä¸€ä¸ªæ’ä»¶æ—¶ï¼Œå½“æˆ‘ä»¬æ’ä»¶åŒ…å‡çº§äº†ï¼Œä»¥å‰ç‰ˆæœ¬çš„apiæˆ–æ–¹æ³•å‡†å¤‡åºŸå¼ƒäº†ï¼Œå°±å¯ä»¥ç”¨è¿™ä¸ªè£…é¥°å™¨è£…é¥°ä¸€ä¸‹ï¼Œå°±èƒ½è¾¾åˆ°é€šçŸ¥ç‰ˆæœ¬åºŸå¼ƒçš„æ•ˆæœ
import {deprecate} from 'core-decorators'
class Person {
  @deprecate
  facepalm() {}

  @deprecate('We stopped facepalming')
  facepalmHard() {}

  @deprecate('We stopped facepalming', { url: 'http://knowyourmeme.com/memes/facepalm' })
  facepalmHarder() {}
}
```

### --è®¾è®¡åŸåˆ™éªŒè¯

- å°†ç°æœ‰å¯¹è±¡å’Œè£…é¥°å™¨è¿›è¡Œåˆ†ç¦»ï¼Œä¸¤è€…ç‹¬ç«‹å­˜åœ¨
- ç¬¦åˆå¼€æ”¾å°é—­åŸåˆ™

## ä»£ç†æ¨¡å¼

### ä»‹-ç»-

- ä½¿ç”¨è€…æ— æƒè®¿é—®ç›®æ ‡å¯¹è±¡
- ä¸­é—´åŠ ä»£ç†ï¼Œé€šè¿‡ä»£ç†åšæˆæƒå’Œæ§åˆ¶


![dailleitu](img/ä»£ç†ç±»å›¾.png)

```javascript
// ä»£ç†ç±»å›¾ä»£ç æ¼”ç¤º
class ReadImg {
  // è¿™æ˜¯çœŸå®çš„ç±»ï¼Œåˆ«äººæ˜¯æ²¡æ³•ç›´æ¥è®¿é—®çš„ï¼Œæƒ³è¦è®¿é—®å®ƒå¿…é¡»ç»è¿‡ä¸€ä¸ªä»£ç†ç±»
  constructor(fileName) {
    this.fileName = fileName
    this.loadFromDisk() // åˆå§‹åŒ–å³ä»ç¡¬ç›˜ä¸­åŠ è½½ï¼Œæ¨¡æ‹Ÿ
  }
  display() {
    console.log('display...' + this.fileName)
  }
  loadFromDisk() {
    console.log('loading...' + this.fileName)
  }
}

class ProxyImg {
  constructor(fileName) {
    this.realImg = new ReadImg(fileName)
  }
  display() {
    this.realImg.display()
  }
}

// test
let proxyImg = new ProxyImg('1.png')
proxyImg.display()
```

#### ç¤º-ä¾‹

- ç§‘å­¦ä¸Šç½‘ï¼Œè®¿é—®github.com(æœ‰æ—¶å€™è®¿é—®ä¸åˆ°å¯ä»¥åŠ ä¸ªä»£ç†)
![dailitu](img/ä»£ç†å›¾.png)
- åœ¨å®¶vpnè®¿é—®å…¬å¸å†…ç½‘
- æ˜æ˜Ÿç»çºªäºº

### æ¼”-ç¤º

> ä»£ç†æ¨¡å¼ç¤ºä¾‹ä»£ç è§es6/src/05-ä»£ç†æ¨¡å¼-1.jsæ–‡ä»¶

### åœºæ™¯1 jsäº‹ä»¶ä»£ç†

```javascript
<div id="div1">
  <a>1</a>
  <a>2</a>
</div>
var div1 = document.getElementById('div1')
div1.addEventListener('click', function(e) {
  var target = e.target
  if (target.nodeName === 'A') {
    alert(target.innerHTML)
  }
})
```

### åœºæ™¯2 $.proxy

```javascript
$('#div1').click(function() {
  // å› ä¸ºåœ¨è¿™ä¸ªæ–¹æ³•ä¸­ thisæŒ‡å‘div1å…ƒç´ ï¼Œè‹¥åœ¨ç‰¹å®šçš„äº‹ä»¶å¦‚setTimeoutä¸­thiså°±æŒ‡å‘windowäº†ï¼Œå¯ä»¥ç”¨var _this=this;æ–¹æ³•é¿å…
  // ä¹Ÿå¯ä»¥ç”¨jQueryçš„$.proxyä»£ç†æ–¹æ³•ï¼Œä»£ç†ä¸‹thisæŒ‡å‘
  var fn = function() {
    $(this).css('background-color', 'yellow')
  }
  fn = $.proxy(fn, this)
  setTimeout(fn, 1000)
})
```

### åœºæ™¯3 ES6 Proxy

> å…·ä½“ä»£ç è§es6/src/05-ä»£ç†æ¨¡å¼-1.jsæ–‡ä»¶

### è®¾è®¡åŸåˆ™-éªŒè¯

- ä»£ç†ç±»å’Œç›®æ ‡ç±»åˆ†ç¦»ï¼Œéš”ç¦»å¼€ç›®æ ‡ç±»å’Œä½¿ç”¨è€…
- ç¬¦åˆå¼€æ”¾å°é—­åŸåˆ™

### å…¶ä»–æ¨¡å¼å¯¹æ¯”

#### ä»£ç†æ¨¡å¼ VS é€‚é…å™¨æ¨¡å¼

- é€‚é…å™¨æ¨¡å¼ï¼šæä¾›ä¸€ä¸ªä¸åŒçš„æ¥å£(å¦‚ä¸åŒç‰ˆæœ¬çš„æ’å¤´) (ä½¿ç”¨è€…æœ‰æƒä½¿ç”¨ç›®æ ‡ç±»ä½†åªèƒ½æ˜¯æ—§æ¥å£)
- ä»£ç†æ¨¡å¼ï¼šæä¾›ä¸€æ‘¸ä¸€æ ·çš„æ¥å£ (ä½¿ç”¨è€…æ— æƒä½¿ç”¨ç›®æ ‡ç±»)

#### ä»£ç†æ¨¡å¼ VS è£…é¥°å™¨å™¨æ¨¡å¼

- è£…é¥°å™¨æ¨¡å¼ï¼šæ‰©å±•åŠŸèƒ½ï¼ŒåŸæœ‰åŠŸèƒ½ä¸å˜ä¸”å¯ç›´æ¥ä½¿ç”¨
- ä»£ç†æ¨¡å¼ï¼šæ˜¾ç¤ºåŸæœ‰åŠŸèƒ½ï¼Œä½†æ˜¯ç»è¿‡é™åˆ¶æˆ–è€…é˜‰å‰²ä¹‹åçš„

## å¤–è§‚æ¨¡å¼

### ä»‹ç»--

- ä¸ºå­ç³»ç»Ÿä¸­çš„ä¸€ç»„æ¥å£æä¾›äº†ä¸€ä¸ª(æ€»ç®¡çº§åˆ«çš„)é«˜å±‚æ¥å£
- ä½¿ç”¨è€…ä½¿ç”¨è¿™ä¸ªé«˜å±‚æ¥å£
![waiguanmoshi](img/å¤–è§‚æ¨¡å¼.png)
![waiguanleitu](img/å¤–è§‚ç±»å›¾.png)

### åœºæ™¯-

```javascript
function bindEvent(elem, type, selector, fn) {
  // é€šè¿‡è¿™ä¸ªé€»è¾‘åˆ¤æ–­ï¼Œfnä¼ åˆ°3å‚ä½ç½®4å‚ä½ç½®éƒ½æ”¯æŒï¼Œè¿™ç§æ€»ç®¡çº§åˆ«çš„é«˜å±‚æ¥å£å…¼å®¹æ´¾å‘å¤„ç†ï¼Œå°±æ˜¯ä¸€ç§å¤–è§‚æ¨¡å¼
  if (fn == null) {
    fn = selector
    selector = null
  }
  // ...
}
// è°ƒç”¨
bindEvent(elem, 'click', '#div1', fn)
bindEvent(elem, 'click', fn)
// ä¸€äº›apiçš„æ–¹æ³•å•¥çš„ å³å¯ä¼ 2ä¸ªå‚æ•°åˆå¯ä¼ 3ä¸ªå‚æ•°ï¼Œè€Œä¸”å‚æ•°ä½ç½®å¯ä»¥ç´§å‡‘æŒªç§»ï¼Œè¿™éƒ½æ˜¯å€Ÿé‰´çš„å¤–è§‚æ¨¡å¼æ€æƒ³
```

### è®¾è®¡åŸ-åˆ™éªŒè¯

- ä¸ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™å’Œå¼€æ”¾å°é—­åŸåˆ™å’Œæ¥å£ç‹¬ç«‹åŸåˆ™(ä¸Šé¢é‚£ä¸­å·²ç»æœ‰èƒ–æ¥å£çš„è¶‹åŠ¿äº†)ï¼Œä½†ç”¨èµ·æ¥å¥½ç”¨ç‚¹å› æ­¤è°¨æ…ä½¿ç”¨ï¼Œä¸å¯æ»¥ç”¨

## è§‚å¯Ÿè€…æ¨¡å¼ ğŸ‘Š

### ä»‹=ç»

- å‘å¸ƒ & è®¢é˜…
- ä¸€å¯¹å¤š

#### ç¤º=ä¾‹

- ç‚¹å’–å•¡ï¼Œç‚¹å¥½ä¹‹å åæ¤…å­ä¸Šåç­‰è¢«å«å·

![guanchazheleitu](img/è§‚å¯Ÿè€…ç±»å›¾.png)

ä¸Šå›¾çš„Observeræ˜¯è§‚å¯Ÿè€… æœ‰updateæ–¹æ³•(ç­‰å¾…è¢«æ›´æ–°)ï¼Œå³è¾¹æ˜¯ä¸»é¢˜ï¼Œ1ä¸ªä¸»é¢˜é‡Œå¯ä»¥å¯¹åº”å¤šä¸ªè§‚å¯Ÿè€…(observerså±æ€§å€¼æ˜¯ä¸€ä¸ªæ•°ç»„)ï¼Œå½“æŸä¸ªä¸»é¢˜é‡Œéœ€è¦å»è§¦å‘è§‚å¯Ÿè€…æ‰§è¡Œæ›´æ–°æ–¹æ³•äº†ï¼Œå°±å»è§¦å‘ä¸»é¢˜é‡Œå¯¹åº”çš„å¤šä¸ªè§‚å¯Ÿè€…éƒ½ä¸€å¹¶è§¦å‘

> å…·ä½“ä»£ç è§es6/src/06-è§‚å¯Ÿè€…æ¨¡å¼-1.jsæ–‡ä»¶

### åœºæ™¯1 ç½‘é¡µäº‹ä»¶ç»‘å®š

```javascript
// è¿™å°±æ˜¯ä¸€ç§è§‚å¯Ÿè€…æ¨¡å¼ï¼Œäº‹ä»¶ç›‘å¬çš„æœºåˆ¶ï¼Œç›‘å¬ç”¨æˆ·ç‚¹å‡»æ‹–æ‹½å•¥çš„ï¼Œéƒ½æ˜¯è§‚å¯Ÿè€…æ¨¡å¼çš„
<button id="btn1">btn</button>
<script>
  $('#btn1').click(function() {
    console.log(1)
  })
  $('#btn1').click(function() {
    console.log(2)
  })
  $('#btn1').click(function() {
    console.log(3)
  })
</script>
```

### åœºæ™¯2 Promise

```javascript
function loadImg(src) {
          const promise = new MyPromise(function (resolve, reject) {
              var img = document.createElement('img')
              img.onload = function () {
                  resolve(img)
              }
              img.onerror = function () {
                  reject()
              }
              img.src = src
          })
          return promise
      }
var src = 'http://www.imooc.com/static/img/index/logo_new.png'
var result = loadImg(src)
        result.then(function (img) {
            console.log('width', img.width)
            return img
        }).then(function (img) {
            console.log('height', img.height)
        })
// è¿™2ä¸ª.thenå’Œä¸Šé¢çš„.clickåŸç†æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯ä¸€ç§å‘å¸ƒè®¢é˜…çš„å…³ç³»ï¼ŒçŠ¶æ€å˜åŒ–åthené‡Œçš„å›è°ƒä¼šè§¦å‘
```

### åœºæ™¯3 jQuery callbacks

```javascript
// è‡ªå®šä¹‰äº‹ä»¶ï¼Œè‡ªå®šä¹‰å›è°ƒ
// ç”Ÿæˆä¸€ä¸ªä¸»é¢˜(è¢«è§‚å¯Ÿè€…)
var callbacks = $.Callbacks()// æ³¨æ„å¤§å°å†™
callbacks.add(function(info) {
  console.log('fn1', info)
})
callbacks.add(function(info) {
  console.log('fn2', info)
})
callbacks.add(function(info) {
  console.log('fn3', info)
})
// ä¸»é¢˜è§¦å‘è§‚å¯Ÿè€…
callbacks.fire('gogogo')
callbacks.fire('fire')
```

### åœºæ™¯4 ndoejsè‡ªå®šä¹‰äº‹ä»¶

> å…·ä½“ä»£ç è§nodejs/æ–‡ä»¶å¤¹

```javascript
const EventEmitter = require('events').EventEmitter

const emitter1 = new EventEmitter()
emitter1.on('some', () => {
  // ç›‘å¬ some äº‹ä»¶
  console.log('some event is occured 1')
})
emitter1.on('some', () => {
  // ç›‘å¬ some äº‹ä»¶
  console.log('some event is occured 2')
})
// è§¦å‘someäº‹ä»¶
emitter1.emit('some')

emitter1.on('sbowName', name => {
  console.log('event occured', name)
})
emitter1.emit('sbowName', 'zhangsan')// emit æ—¶å€™å¯ä»¥ä¼ é€’å‚æ•°è¿‡å»

// EventEmitterè¢«å…¶ä»–åŠŸèƒ½ç±»ç»§æ‰¿ä½¿ç”¨
class Dog extends EventEmitter {
  constructor(name) {
    super()
    this.name = name
  }
}
var simon = new Dog('simon')
simon.on('bark', function() {
  // æ³¨æ„è¿™ä¸ªthisæŒ‡å‘ï¼ŒæŒ‡å‘ .onçš„è°ƒç”¨è€…simonçš„ã€‚æ‰€ä»¥å¯ä»¥å–åˆ°this.nameå€¼
  console.log(this.name, ' barked')
})
setInterval(() => {
  simon.emit('bark')
}, 500)

// Streamä¹Ÿç”¨åˆ°äº†è‡ªå®šä¹‰äº‹ä»¶
var fs = require('fs')
var readStream = fs.createReadStream('./data/file1.txt') // è¯»å–æ–‡ä»¶çš„Stream
var length = 0
readStream.on('data', function(chunk) {
  // è¿™ä¸ªonDataæ˜¯ç›‘å¬ä¸€æ®µæ®µæ•°æ®ï¼Œè¿™ä¸€æ®µæ®µæ•°æ®ä¸ä¸€å®šæ˜¯æ•´è¡Œçš„ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯ä¸­é—´æˆªæ–­çš„
  length += chunk.toString().length
})
readStream.on('end', function() {
  console.log(length)
})

// readline ç”¨åˆ°äº†è‡ªå®šä¹‰äº‹ä»¶
var readline = require('readline')
var fs = require('fs')
var rl = readline.createInterface({
  input: fs.createReadStream('./data/file1.txt')
})
var lineNum = 0// ç»Ÿè®¡å¤šå°‘è¡Œ
rl.on('line', function(line) {
  // è¿™ä¸ªç›‘å¬å°±æ˜¯ä¸€è¡Œè¡Œçš„ç›‘å¬äº†ï¼ŒåŸç†ä¹Ÿæ˜¯æµçš„å½¢å¼
  lineNum++
})
rl.on('close', function() {
  console.log('lineNum', lineNum)
})
```

### å…¶ä»–åœºæ™¯

- nodejsä¸­ï¼šå¤„ç†httpè¯·æ±‚(req.on('data')æ–¹æ³•ä¹Ÿæ˜¯å°è£…çš„ä¸Šé¢çš„Streamæ–¹æ³•)ï¼›
- nodejsä¸­å¤šè¿›ç¨‹é€šè®¯(è¿™ä¹Ÿæ˜¯è‡ªå®šä¹‰äº‹ä»¶è§‚å¯Ÿè€…æ¨¡å¼åŸç†)

```javascript
// å¤šè¿›ç¨‹é€šè®¯
// parent.js
var cp = require('child_process')
var n = cp.fork('./sub.js')// ä»ä¸»è¿›ç¨‹ä¸­forkå‡ºäº†ä¸ªæ–°è¿›ç¨‹ï¼Œä¸¤è¿›ç¨‹ä¹‹é—´éœ€è¦é€šè®¯ï¼Œå°±é€šè¿‡messageäº‹ä»¶é€šè®¯
n.on('message', function(m) {
  console.log('PARENT got message:' + m)
})
n.send({hello: 'worked'})

// sub.js
process.on('message', function(m) {
  console.log('CHILD got message:' + m)
})
process.send({foo: 'bar'})
```

- vue å’Œ React ç»„ä»¶ç”Ÿå‘½å‘¨æœŸè§¦å‘
- vue watch

### è®¾=è®¡åŸåˆ™éªŒè¯

- ä¸»é¢˜å’Œè§‚å¯Ÿè€…åˆ†ç¦»ï¼Œä¸æ˜¯ä¸»åŠ¨è§¦å‘è€Œæ˜¯è¢«åŠ¨ç›‘å¬ï¼Œä¸¤è€…è§£è€¦
- ç¬¦åˆå¼€æ”¾å°é—­åŸåˆ™

## è¿­ä»£å™¨æ¨¡å¼

### ä»‹ç»=

- ä»»ä½•ç±»æ•°æ®ç»“æ„ç»è¿‡è¿­ä»£å™¨è½¬åŒ–ï¼Œç”Ÿæˆä¸€ä¸ªè¿­ä»£ç»“æ„ï¼Œè¿™ä¸ªè¿­ä»£ç»“æ„å¯ä»¥ç”¨ç‰¹å®šçš„æ–¹å¼å»éå†æºæ•°æ®
  - è¦æ˜¯ä¸ç”¨è¿­ä»£å™¨çš„è¯ï¼Œæ•°ç»„æƒ³è¦éå†å¾—ç”¨forEachç­‰æ–¹æ³•ï¼ŒnodeListç»“æ„æƒ³è¦éå†å¾—ç”¨forå¾ªç¯æˆ–Array.prototypeçš„callæ‰§è¡Œï¼Œå¯¹è±¡è¦éå†å¾—ç”¨forinå¾ªç¯æ–¹æ³•ï¼Œè¦æ˜¯æœ‰ä¸€ä¸ªè¿­ä»£å™¨çš„è¯ï¼Œä¸ç®¡ä»€ä¹ˆæœ‰åºçš„ç»“æ„ä»åˆ°è¿­ä»£å™¨é‡Œè¿”å›çš„ç»“æ„ éƒ½å¯ä»¥ç”¨å®ƒç‰¹å®šçš„å”¯ä¸€çš„éå†æ–¹æ³•å°±å¾ˆæ–¹ä¾¿
- é¡ºåºè®¿é—®ä¸€ä¸ªæœ‰åºé›†åˆ
  - å¯¹è±¡ä¸æ˜¯ä¸€ä¸ªæœ‰åºçš„åˆ—è¡¨ï¼Œç±»æ•°ç»„å’Œæ•°ç»„éƒ½æ˜¯æœ‰åºé›†åˆï¼Œé¡ºåºè®¿é—®å¿…é¡»å¾—æ˜¯æœ‰åºçš„åˆ—è¡¨
- ä½¿ç”¨è€…æ— éœ€çŸ¥é“é›†åˆçš„å†…éƒ¨ç»“æ„(å°è£…)

#### ç¤º==ä¾‹

- æ²¡æœ‰åˆé€‚çš„ç¤ºä¾‹ï¼Œç”¨å¸¸ç”¨çš„jQueryæ¥æ¼”ç¤ºä¸€ä¸‹

```javascript
// jquery è¿­ä»£å™¨ç¤ºä¾‹
<a>1</a>
<a>2</a>

var arr = [1,2,3]
var nodeList = document.getElementsByTagName('a')
var $a = $('a')

function each(data) {
  var $data = $(data) // åˆ©ç”¨jqueryçš„å†…ç½®$æ–¹æ³• ç”Ÿæˆè¿­ä»£å™¨
  $data.each(function(key, val) {
    console.log(key, val)
  })
}

each(arr)
each(nodeList)
each($a)
```

### æ¼”ç¤º=

![diedaiqileitu](img/è¿­ä»£å™¨ç±»å›¾.png)

> å…·ä½“ä»£ç è§es6/src/07-è¿­ä»£å™¨-1.jsæ–‡ä»¶

### åœºæ™¯1 jQuery çš„ eachå°è£…

```javascript
// jquery è¿­ä»£å™¨ç¤ºä¾‹
<a>1</a>
<a>2</a>

var arr = [1,2,3]
var nodeList = document.getElementsByTagName('a')
var $a = $('a')

function each(data) {
  var $data = $(data) // åˆ©ç”¨jqueryçš„å†…ç½®$æ–¹æ³• ç”Ÿæˆè¿­ä»£å™¨
  $data.each(function(key, val) {
    console.log(key, val)
  })
}

each(arr)
each(nodeList)
each($a)
```

### åœºæ™¯2 ES6 Iterator

#### ES6 Iterator ä¸ºä½•å­˜åœ¨

- é¦–å…ˆå®ƒå®ç°äº†è¿­ä»£å™¨æ¨¡å¼çš„ï¼Œè€Œä¸”ES6è¯­æ³•ä¸­ï¼Œæœ‰åºé›†åˆçš„æ•°æ®ç±»å‹å·²ç»æœ‰å¾ˆå¤š
- å¦‚Array Map Set String TypedArray argumnets NodeList
- éœ€è¦æœ‰ä¸€ä¸ªç»Ÿä¸€çš„éå†æ¥å£æ¥éå†æ‰€æœ‰æ•°æ®ç±»å‹
(æ³¨æ„: objectä¸æ˜¯æœ‰åºé›†åˆï¼Œè¦æƒ³å˜æˆæœ‰åºé›†åˆï¼Œå¯ä»¥ç”¨Mapå­—å…¸ä»£æ›¿)

#### ES6 Iterator æ˜¯ä»€ä¹ˆ

- ä»¥ä¸Šæ•°æ®ç±»å‹ï¼Œéƒ½æœ‰ Symbol(Symbol.iterator) å±æ€§
- å±æ€§å€¼æ˜¯å‡½æ•°ï¼Œæ‰§è¡Œå‡½æ•°è¿”å›ä¸€ä¸ªè¿­ä»£å™¨
- è¿™ä¸ªè¿­ä»£å™¨å°±æœ‰nextæ–¹æ³•å¯é¡ºåºè¿­ä»£å­å…ƒç´ 
- å¯è¿è¡ŒArray.prototype[Symbol.iterator]æ¥æµ‹è¯•
![es6è¿­ä»£å™¨](img/es6è‡ªå¸¦è¿­ä»£å™¨.png)

#### è¿­ä»£å™¨è¿›åŒ–-ä»£ç å±•ç°

- å…·ä½“ä»£ç è§es6/src/07-è¿­ä»£å™¨-2.jsæ–‡ä»¶

```javascript
// dataæ˜¯ä»»ä½•es6ä¸­æ‰€æœ‰æœ‰åºæ•°æ®ç»“æ„
function each(data) {
  // ç”Ÿæˆéå†å™¨
  let iterator = data[Symbol.iterator]()

  // console.log(iterator.next())  // æœ‰æ•°æ®æ—¶è¿”å› {value: 1, done: false}
  // console.log(iterator.next())  // value: 2
  // console.log(iterator.next())  // ...
  // console.log(iterator.next())  // æ²¡æœ‰æ•°æ®æ—¶è¿”å› {value: undefined, done: true}

  let item = {done: false}
  while (!item.done) {
      item = iterator.next()
      if (!item.done) {
          console.log(item.value)
      }
  }
}

// ä¸Šé¢æœ‰ä¸ªé—®é¢˜éš¾é“åœ¨å®é™…å¼€å‘ä¸­æ¯ä¸ªäººéƒ½è¦å°è£…ä¸‹è¿™ä¸ªeachå‡½æ•°å— éƒ½è¦äº†è§£è‡ªå¸¦çš„iteratorå±æ€§å—ï¼Ÿ
// [Symbol.iterator] å¹¶ä¸æ˜¯äººäººéƒ½çŸ¥é“äº†è§£çš„ï¼Œä¹Ÿä¸æ˜¯æ¯ä¸ªäººéƒ½éœ€è¦å°è£…ä¸€ä¸ªeachæ–¹æ³•
// å› æ­¤æœ‰äº† for...of æ–°å¢çš„éå†è¯­æ³•
function each(data) {
  // for of æ˜¯éå†è¿­ä»£å™¨çš„
  for(let item of data) {
    console.log(item)
  }
}
```

- for...ofæ˜¯ä¸“é—¨ä¸ºè¿­ä»£å™¨éå†å°è£…çš„ä¸€ä¸ªæ–¹æ³•ï¼Œå¿…é¡»å…·å¤‡[Symbol.iterator]éå†å™¨ç‰¹æ€§å±æ€§çš„dataæ‰èƒ½ç”±æ­¤æ–¹æ³•éå†
- è¿™ä¹Ÿå°±æ˜¯ forof ä¸ºä»€ä¹ˆä¸æ”¯æŒéå†å¯¹è±¡çš„åŸå› ï¼ï¼ï¼

### ES6 Iterator ä¸ Generator

- Iteratorçš„ä»·å€¼ä¸é™äºä¸Šè¿°å‡ ä¸ªç±»å‹çš„éå†
- è¿˜æœ‰Generatorå‡½æ•°çš„ä½¿ç”¨
- å³åªè¦è¿”å›çš„æ•°æ®ç¬¦åˆIteratoræ¥å£çš„è¦æ±‚
- å¾ˆæ˜¾ç„¶ Generatorå‡½æ•°è¿”å›å€¼ä¹Ÿæ˜¯ç¬¦åˆIteratoræ¥å£çš„è¦æ±‚çš„ï¼Œå³å¯ä½¿ç”¨Iteratorè¯­æ³•ï¼Œè¿™å°±æ˜¯è¿­ä»£å™¨æ¨¡å¼

```javascript
function* helloWorldGenerator() {
  yield 'hello'
  yield 'world'
  return 'ending'
}
var hw = helloWorldGenerator();
hw[Symbol.iterator]// ç»“æœæ˜¯æœ‰å€¼çš„
// å¯ä»¥çœ‹åˆ° Generator å‡½æ•°è¿”å›çš„ç»“æœ ä¹Ÿå®ç°äº† Iterator çš„æ¥å£----å³å¯ä»¥ç”¨éå†å™¨æ–¹æ³•å¯ä»¥ç”¨next()æ–¹æ³•å¯ä»¥ç”¨for..ofæ–¹æ³•
hw.next()
hw.next()
// å½“ç„¶ä¹Ÿå¯ä»¥ç”¨â€˜for...ofâ€™
for (let v of hw) {
  console.log(v)
}// ä¼šä¾æ¬¡æ‰§è¡Œå®Œnext()--ä¾æ¬¡æ‰“å°å‡º yield è¿‡çš„å€¼ï¼š'hello' 'world' returnçš„å€¼ä¸æ‰“å°
```

### è®¾è®¡åŸåˆ™éªŒè¯==

- è¿­ä»£å™¨å¯¹è±¡å’Œç›®æ ‡å¯¹è±¡åˆ†ç¦»
- è¿­ä»£å™¨å°†ä½¿ç”¨è€…ä¸ç›®æ ‡å¯¹è±¡éš”ç¦»å¼€
- ç¬¦åˆå¼€æ”¾å°é—­åŸåˆ™

## çŠ¶æ€æ¨¡å¼

### ä»‹ç»==

- ä¸€ä¸ªå¯¹è±¡æœ‰çŠ¶æ€å˜åŒ–
- æ¯æ¬¡çŠ¶æ€å˜åŒ–éƒ½ä¼šè§¦å‘ä¸€ä¸ªé€»è¾‘
- ä¸èƒ½æ€»æ˜¯ç”¨if...elseæ¥æ§åˆ¶

#### æ¨¡æ‹Ÿåœºæ™¯

- æ¯”å¦‚çº¢ç»¿ç¯è¿™ä¸‰ä¸ªçŠ¶æ€ï¼Œæ¯ä¸ªçŠ¶æ€ç¯éƒ½æ˜¯ä¼šè§¦å‘ä¸åŒçš„è¡Œä¸ºï¼Œè¡Œäººèµ°è¿˜æ˜¯è½¦èµ°
![zhuangtai](img/çŠ¶æ€æ¨¡å¼ç±»å›¾.png)

> ç±»å›¾ä»£ç è§ es6/src/08-çŠ¶æ€æ¨¡å¼-1.jsæ–‡ä»¶

### åœºæ™¯1 æœ‰é™çŠ¶æ€æœº

#### ç‰¹å¾

- çŠ¶æ€æ€»æ•°ï¼ˆstateï¼‰æ˜¯æœ‰é™çš„ã€‚
- ä»»ä¸€æ—¶åˆ»ï¼Œåªå¤„åœ¨ä¸€ç§çŠ¶æ€ä¹‹ä¸­ã€‚
- æŸç§æ¡ä»¶ä¸‹ï¼Œä¼šä»ä¸€ç§çŠ¶æ€è½¬å˜ï¼ˆtransitionï¼‰åˆ°å¦ä¸€ç§çŠ¶æ€ã€‚

- å°±æ˜¯ä¸€ä¸ªæœ‰é™çŠ¶æ€çš„å˜åŒ–æœºåˆ¶ï¼Œæœ‰é™ä¸ªçŠ¶æ€ï¼Œä»¥åŠåœ¨è¿™äº›çŠ¶æ€ä¹‹é—´çš„å˜åŒ–
- å¦‚äº¤é€šä¿¡å·ç¯
- ä½¿ç”¨å¼€æºlibï¼š`npm i javascript-state-machine --save`

> å…·ä½“ä»£ç è§js/03-state-machine-1.html æ–‡ä»¶

### åœºæ™¯2 å†™ä¸€ä¸ªpromise

- å›é¡¾Promiseçš„è¯­æ³•
- åˆ†æï¼šPromiseå°±æ˜¯ä¸€ä¸ªæœ‰é™çŠ¶æ€æœº
- å†™ä»£ç 
- æµ‹è¯•

#### åˆ†æå¦‚ä½•å†™promise

- promiseä½¿ç”¨ä¸Šæ¥çœ‹ï¼Œpromiseæ˜¯ä¸€ä¸ªç±»
- ç±»åˆå§‹åŒ–æ—¶æ¥å—çš„å‚æ•°æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°(å›è°ƒå‡½æ•°æ¥å—resolveå’Œrejectä¸¤ä¸ªå‚æ•°ï¼Œå‡½æ•°ä½“é‡Œé€‰æ‹©æ‰§è¡Œè¿™ä¸¤ä¸ªå‚æ•°)
- è¿”å›çš„promiseç±»å®ä¾‹æœ‰thenæ–¹æ³•catchæ–¹æ³•finallyæ–¹æ³•(thenä¸­æ¥å—ä¸¤ä¸ªå›è°ƒå‡½æ•°(å¯ä»¥returnçš„)å‚æ•°)

#### Promiseå°±æ˜¯æœ‰é™çŠ¶æ€æœº

- Promiseä¸‰ç§çŠ¶æ€ï¼špending fullfilled rejected
- pending -> fullfilled æˆ–è€… pending -> rejected
- ä¸èƒ½é€†å‘å˜åŒ–

> å…·ä½“ä»£ç è§ js/03-state-machine-2.htmlæ–‡ä»¶

### è®¾è®¡åŸ=åˆ™éªŒè¯

- å°†çŠ¶æ€å¯¹è±¡å’Œä¸»ä½“å¯¹è±¡åˆ†ç¦»ï¼ŒçŠ¶æ€çš„å˜åŒ–é€»è¾‘å•ç‹¬å¤„ç†
- ç¬¦åˆå¼€æ”¾å°é—­åŸåˆ™

## å…¶ä»–è®¾è®¡æ¨¡å¼

### åŸå‹æ¨¡å¼

**æ¦‚å¿µï¼š** å› ä¸ºé‡æ–°åˆ›å»ºä¸€ä¸ªå¯¹è±¡å¼€é”€æ¯”è¾ƒå¤§ï¼Œéœ€è¦é€šè¿‡åŸå‹æ¨¡å¼æ¥æ ¹æ®å·²æœ‰å¯¹è±¡å…‹éš†å‡ºä¸€ä¸ªæ–°çš„å¯¹è±¡----å°±æ˜¯cloneè‡ªå·±ï¼Œç”Ÿæˆä¸€ä¸ªæ–°å¯¹è±¡ã€‚è¦ä¸ªä¸€æ‘¸ä¸€æ ·çš„å¯¹è±¡æŒ‰ç†è¯´æ˜¯newä¸€ä¸ªä»€ä¹ˆä»€ä¹ˆä¸œè¥¿ï¼Œä½†æ˜¯newè¿™ä¸ªä¸œè¥¿å¼€é”€ä¼šæ¯”è¾ƒå¤§ï¼Œå¯ä»¥å…‹éš†è‡ªå·±çš„æ–¹å¼ç”Ÿæˆä¸€ä¸ªå¯¹è±¡ä¼šæ›´å¿«æ›´åˆé€‚ä¸€äº›

- javaé»˜è®¤æœ‰cloneæ¥å£ï¼Œä¸ç”¨è‡ªå·±å®ç°

**JSä¸­çš„åº”ç”¨ï¼š** - Object.create

```javascript
// Object.create ç”¨åˆ°äº†åŸå‹æ¨¡å¼çš„æ€æƒ³(è™½ç„¶ä¸æ˜¯javaä¸­çš„clone)
// åŸºäºä¸€ä¸ªåŸå‹åˆ›å»ºä¸€ä¸ªå¯¹è±¡
var prototype = {
  getName: function() {
    return this.first + ' ' + this.last
  },
  say: function() {
    console.log('hello')
  }
}
// åŸºäºåŸå‹åˆ›å»º x
var x = Object.create(prototype)
x.first = 'A'
x.last = 'B'
console.log(x.getName())
x.say()

// åŸºäºåŸå‹åˆ›å»º y
var y = Object.create(prototype)
y.first = 'C'
y.last = 'D'
console.log(y.getName())
y.say()
// xå’Œyéƒ½æ˜¯åŸºäºåŸå‹åˆ›å»ºçš„ï¼Œä¸æ˜¯newæ–¹å¼å‡ºæ¥çš„å¯¹è±¡ï¼Œéƒ½æ˜¯åŸå‹å…‹éš†å‡ºæ¥çš„æ–°çš„å¯¹è±¡
```

#### å¯¹æ¯”JSä¸­çš„åŸå‹prototype

- prototypeå¯ä»¥ç†è§£ä¸ºES6 class çš„ä¸€ç§åº•å±‚åŸç†
- è€Œclassæ˜¯å®ç°é¢å‘å¯¹è±¡çš„åŸºç¡€ï¼Œå¹¶ä¸æ˜¯æœåŠ¡äºæŸä¸ªæ¨¡å¼ï¼Œè€Œä¸Šé¢é‚£ä¸ªObject.createå°±æ˜¯ä¸€ä¸ªåŸå‹æ¨¡å¼çš„è®¾è®¡
- è‹¥å¹²å¹´å ES6å…¨é¢æ™®åŠï¼Œå¤§å®¶å¯èƒ½ä¼šå¿½ç•¥æ‰prototype
- ä½†æ˜¯Object.createå´ä¼šé•¿ä¹…å­˜åœ¨

### æ¡¥æ¥æ¨¡å¼

**æ¦‚å¿µï¼š** ç”¨äºæŠŠæŠ½è±¡åŒ–ä¸å®ç°åŒ–è§£è€¦ï¼Œä½¿å¾—ä¸¤è€…å¯ä»¥ç‹¬ç«‹å˜åŒ–

- æœªæ‰¾åˆ°JSä¸­çš„ç»å…¸åº”ç”¨ï¼Œè¿™ç§æ¨¡å¼åœ¨ä¸€äº›ä¸šåŠ¡ä¸­è¿˜æ˜¯æ¯”è¾ƒå¸¸ç”¨çš„

**åœºæ™¯æ¼”ç¤ºï¼š**
![qiaojieyanshi](img/æ¡¥æ¥æ¼”ç¤º.png)

- ä¸Šå›¾å°±æ˜¯å¸¸è§„å†™æ³•å°±æ˜¯ç”»åœ†å½¢ä¸€ä¸ªç”»ä¸‰è§’å½¢ä¸€ä¸ªæ–¹æ³•ï¼Œè¿™æ ·ä¼šæŠŠç”»å½¢çŠ¶çš„äº‹æƒ…å’Œå¡«å……é¢œè‰²çš„äº‹æƒ…ç»™æ··ä¸€å—äº†ï¼ŒæŒ‰ç…§æ¡¥æ¥æ¨¡å¼æˆ‘ä»¬åº”è¯¥æŠŠä»–ä»¬åˆ†ç¦»å¼€çš„ç”»å›¾å°±æ˜¯ç”»å›¾å¡«è‰²å°±æ˜¯å¡«è‰²ï¼Œè§ä¸‹å›¾

![qiaojiefenli](img/æ¡¥æ¥åˆ†ç¦».png)

```javascript
class Color {
  constructor(name) {
    this.name = name
  }
}
class Shape {
  constructor(name, color) {
    this.name = name
    this.color = color
  }
  draw() {
    console.log(`${this.color.name} ${this.name}`)
  }
}

// æµ‹è¯•ä»£ç 
let red = new Color('red')
let yellow = new Color('yellow')
let circle = new Shape('circle', red)
circle.draw()
let triangle = new Shape('triangle', yellow)
triangle.draw()
```

#### è®¾è®¡åŸ--åˆ™éªŒè¯

- æŠ½è±¡å’Œå®ç°åˆ†ç¦»ï¼Œè§£è€¦
- ç¬¦åˆå¼€æ”¾å°é—­åŸåˆ™

### ç»„åˆæ¨¡å¼

**æ¦‚å¿µï¼š**

- ç”Ÿæˆæ ‘å½¢ç»“æ„ï¼Œè¡¨ç¤ºâ€˜æ•´ä½“-éƒ¨åˆ†â€™å…³ç³»
- è®©æ•´ä½“å’Œéƒ¨åˆ†éƒ½å…·æœ‰ä¸€è‡´çš„æ“ä½œæ–¹å¼
![ç»„åˆç¤ºä¾‹](img/ç»„åˆæ¦‚å¿µ.png)

**æ¼”ç¤ºï¼š**

- JSç»å…¸åº”ç”¨ä¸­ï¼Œæœªæ‰¾åˆ°è¿™ä¹ˆå¤æ‚çš„æ•°æ®ç±»å‹
- è™šæ‹ŸDOMä¸­çš„vnodeæ˜¯è¿™ç§å½¢å¼ï¼Œä½†æ•°æ®ç±»å‹æ¯”è¾ƒç®€å•
- (ç”¨JSå®ç°ä¸€ä¸ªæ ‘å½¢èœå•ï¼Œä¸ç®—ç»å…¸åº”ç”¨ï¼Œåªæ˜¯ä¸ä¸šåŠ¡ç›¸å…³)
![ç»„åˆæ¼”ç¤º](img/ç»„åˆæ¼”ç¤º.png)
- æ•´ä½“å’Œå•ä¸ªèŠ‚ç‚¹çš„æ“ä½œæ˜¯ä¸€è‡´çš„
- æ•´ä½“å’Œå•ä¸ªèŠ‚ç‚¹çš„æ•°æ®ç»“æ„ä¹Ÿä¿æŒä¸€è‡´

**è®¾è®¡åŸåˆ™éªŒè¯ï¼š**

- å°†æ•´ä½“å’Œå•ä¸ªèŠ‚ç‚¹çš„æ“ä½œæŠ½è±¡å‡ºæ¥
- ç¬¦åˆå¼€æ”¾å°é—­åŸåˆ™

### äº«å…ƒæ¨¡å¼

**æ¦‚å¿µï¼š**

- å°±æ˜¯å…±äº«å…ƒæ•°æ®æ¨¡å¼
- ä¸»è¦æ˜¯å…±äº«å†…å­˜(ä¸»è¦è€ƒè™‘å†…å­˜å¼€é”€ï¼Œè€Œéæ•ˆç‡ï¼Œäº«å…ƒæ¨¡å¼è€ƒè™‘çš„æ›´å¤šçš„æ˜¯å­˜å‚¨ç©ºé—´)
- ç›¸åŒçš„æ•°æ®ï¼Œå…±äº«ä½¿ç”¨
- (JSä¸­æœªæ‰¾åˆ°ç»å…¸åº”ç”¨åœºæ™¯)

**åº”ç”¨ï¼š**

- å¦‚ä¹‹å‰è®²çš„ä»£ç†æ¨¡å¼æ¡ˆä¾‹æ— é™ä¸‹æ‹‰åˆ—è¡¨ï¼Œå°†äº‹ä»¶ä»£ç†åˆ°çˆ¶çº§å±‚èŠ‚ç‚¹ä¸Šï¼Œå¦‚æœéƒ½ç»‘å®šåˆ°\<a>æ ‡ç­¾ï¼Œå¯¹å†…å­˜å¼€é”€å¤ªå¤§

**è®¾è®¡åŸåˆ™éªŒè¯ï¼š**

- å°†ç›¸åŒçš„éƒ¨åˆ†æŠ½è±¡å‡ºæ¥
- ç¬¦åˆå¼€æ”¾å°é—­åŸåˆ™

### ç­–ç•¥æ¨¡å¼

**æ¦‚å¿µï¼š**

- ä¸åŒç­–ç•¥åˆ†å¼€å¤„ç†
- é¿å…å‡ºç°å¤§é‡if...else æˆ–è€… switch...case
- (JSä¸­æœªæ‰¾åˆ°ç»å…¸åº”ç”¨åœºæ™¯)
- å¹³å¸¸åˆ¤æ–­æ˜¯ä¸æ˜¯è¦ä½¿ç”¨ç­–ç•¥æ¨¡å¼ï¼Œä½ è¦çœ‹ä¸šåŠ¡å°±å¥½äº†

```javascript
// ä¸€ä¸ªç”¨æˆ·è´­ä¹°æ‰“æŠ˜çš„ä¾‹å­
class User {
  constructor(type) {
    this.type = type
  }
  buy() {
    if (this.type === 'ordinary') {
      console.log('æ™®é€šç”¨æˆ·è´­ä¹°')
    } else if (this.type === 'member') {
      console.log('ä¼šå‘˜ç”¨æˆ·è´­ä¹°')
    } else if (this.type === 'vip') {
      console.log('vip ç”¨æˆ·è´­ä¹°')
    }
  }
}
// æµ‹è¯•
let u1 = new User('ordinary')
u1.buy()
let u2 = new User('member')
u2.buy()
let u3 = new User('vip')
u3.buy()

// ä½†æ˜¯ä¸Šé¢çš„æ–¹å¼ï¼Œç”¨åˆ°äº†å¤§é‡çš„ifelseï¼Œæˆ‘ä»¬å°±åˆ†æˆç­–ç•¥æ¨¡å¼ï¼Œé’ˆå¯¹ä¸åŒçš„ç”¨æˆ·ç»™ä¸åŒçš„ifè®¾å®šæˆä¸åŒçš„ç±»ï¼Œè¿™æ ·å°±æé«˜äº†è®¾è®¡æ•ˆç‡
class OrdinaryUser {
  buy() {
    console.log('æ™®é€šç”¨æˆ·è´­ä¹°')
  }
}
class MemberUser {
  buy() {
    console.log('ä¼šå‘˜ç”¨æˆ·è´­ä¹°')
  }
}
class VipUser {
  buy() {
    console.log('vip ç”¨æˆ·è´­ä¹°')
  }
}
let u1 = new OrdinaryUser()
u1.buy()
let u2 = new MemberUser()
u2.buy()
let u3 = new VipUser()
u3.buy()
```

**è®¾è®¡åŸåˆ™éªŒè¯ï¼š**

- ä¸åŒç­–ç•¥ï¼Œåˆ†å¼€å¤„ç†ï¼Œè€Œä¸æ˜¯æ··åˆåœ¨ä¸€èµ·
- ç¬¦åˆå¼€æ”¾å°é—­åŸåˆ™

- å°±æ˜¯å¤„ç†å„ç§åµŒå¥—ifelseç­‰å¤æ‚ç¹ççš„ä¸€äº›é€»è¾‘ï¼Œè§£å†³ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯è¯»æ€§ï¼Œåˆ†æˆä¸åŒçš„ç­–ç•¥æ¥å¤„ç†

### æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼

```javascript
// æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼: å¯¹ä»£ç å†…éƒ¨çš„ä¸€äº›é¡ºåºå¤„ç†ï¼Œæˆ–ç‰¹æ®Šå¤„ç†ç‰¹æ®Šé€»è¾‘ç»“æ„çš„ä¸€äº›æ–¹æ³•åšä¸€äº›å°è£…åˆå¹¶å•¥çš„ç»™å®ƒè¾“å‡ºä¸€ä¸ªç»Ÿä¸€çš„å¦‚handleæ–¹æ³•
class Action {
  handle() {
    handle1()
    handle2()
    handle3()
  }
  handle1() {
    console.log('1')
  }
  handle2() {
    console.log('2')
  }
  handle3() {
    console.log('3')
  }
}
```

### èŒè´£é“¾æ¨¡å¼

**æ¦‚å¿µï¼š**

- ä¸€æ­¥æ“ä½œå¯èƒ½åˆ†ä¸ºå¤šä¸ªèŒè´£è§’è‰²æ¥å®Œæˆ
- ç„¶åæŠŠè¿™äº›è§’è‰²éƒ½åˆ†å¼€ï¼Œç„¶åç”¨ä¸€ä¸ªé“¾ä¸²è”èµ·æ¥
- å°†å‘èµ·è€…å’Œå„ä¸ªå¤„ç†è€…è¿›è¡Œéš”ç¦»(å„ä¸ªå¤„ç†è€…ä¹‹é—´ä¹Ÿè¿›è¡Œéš”ç¦»)

```javascript
// ä¸€ä¸ªè¯·å‡çš„ ä¸Šçº§å±‚å±‚å®¡æ‰¹çš„åœºæ™¯
class Action {
  constructor(name) {
    this.name = name
    this.nextAction = null
  }
  setNextAction(action) {
    this.nextAction = action
  }
  handle() {
    console.log(`${this.name} å®¡æ‰¹`)
    if (this.nextAction != null) {
      this.nextAction.handle()
    }
  }
}
// æµ‹è¯•ä»£ç 
let a1 = new Action('ç»„é•¿')
let a2 = new Action('ç»ç†')
let a3 = new Action('æ€»ç›‘')
a1.setNextAction(a2)
a2.setNextAction(a3)
a1.handle()
```

**JSä¸­åº”ç”¨ï¼š**

- èŒè´£é“¾æ¨¡å¼å’Œä¸šåŠ¡ç»“åˆæ¯”è¾ƒå¤šï¼ŒJSä¸­èƒ½è”æƒ³åˆ°é“¾å¼æ“ä½œ
- å¦‚jQueryçš„é“¾å¼æ“ä½œ Promise.then çš„é“¾å¼æ“ä½œ
- å‰ç«¯ä¸­ifelseæ”¹é€ 

#### åº”ç”¨1- å¯¹if-elseçš„æ”¹é€ æˆèŒè´£é“¾æ¨¡å¼
```js
// æ™®é€šå†™æ³•
function judge(a) {
  if (a>100) return 100;
  if (a>50) return 50;
  if (a>10) return 10;
  // ...ä»¥æ­¤ç±»æ¨
}
judge(101)

// èŒè´£é“¾æ”¹é€ å
function is100(a) {
  if (a>100) return 100;
  return is50(a)
}
function is50(a) {
  if (a>50) return 50;
  return is10(a)
}
function is10() {
  if (a>10) return 10;
  return 0;
}
is100(101)
```

**è®¾è®¡åŸåˆ™éªŒè¯ï¼š**

- å‘èµ·è€…å„ä¸ªå¤„ç†è€…ä¹‹é—´è¿›è¡Œéš”ç¦»
- ç¬¦åˆå¼€æ”¾å°é—­åŸåˆ™

### å‘½ä»¤æ¨¡å¼

**æ¦‚å¿µï¼š**

- æ‰§è¡Œå‘½ä»¤æ—¶ï¼Œå‘å¸ƒè€…å’Œæ‰§è¡Œè€…åˆ†å¼€
- ä¸­é—´åŠ å…¥å‘½ä»¤å¯¹è±¡ï¼Œä½œä¸ºä¸­è½¬ç«™
![mingligngainian](img/å‘½ä»¤æ¦‚å¿µ.png)
- å‘½ä»¤æ¨¡å¼ä¸€èˆ¬æœ‰ä¸‰ä¸ªclassï¼Œæ¥å—è€…(å£«å…µ)å‘½ä»¤å¯¹è±¡(å°å·æ‰‹)æ´¾å‘å‘½ä»¤è€…(å°†å†›)

```javascript
// æ¥æ”¶è€…
class Receiver {
  exec() {
    console.log('æ‰§è¡Œ')
  }
}
// å‘½ä»¤è€…
class Command {
  constructor(receiver) {
    this.receiver = receiver
  }
  cmd() {
    console.log('æ‰§è¡Œå‘½ä»¤')
    this.receiver.exec()
  }
}
// è§¦å‘è€…
class Invoker {
  constructor(command) {
    this.command = command
  }
  invoke() {
    console.log('å¼€å§‹')
    this.command.cmd()
  }
}

// å£«å…µ
let soldier = new Receiver()
// å°å·æ‰‹
let trumpeter = new Command(soldier)
// å°†å†›
let general = new Invoker(trumpeter)
general.invoke()
```

**JSä¸­åº”ç”¨ï¼š**

- ç½‘é¡µå¯Œæ–‡æœ¬ç¼–è¾‘å™¨æ“ä½œï¼Œæµè§ˆå™¨å°è£…äº†ä¸€ä¸ªå‘½ä»¤å¯¹è±¡
- å¦‚document.execCommand('bold') -- è¿™å°±æ˜¯ç›¸å½“äºä¸­è½¬ç«™ï¼Œå°†å†›åªç®¡å‘å‡ºç›®çš„å‘½ä»¤ å…·ä½“è®©å£«å…µæ“ä½œçš„å…·ä½“å‘½ä»¤äº¤ç”±ä¸­è½¬ç«™å¤„ç†
- å¦‚document.execCommand('undo')

**è®¾è®¡åŸåˆ™éªŒè¯ï¼š**

- å‘½ä»¤å¯¹è±¡äºæ‰§è¡Œå¯¹è±¡åˆ†å¼€ è§£è€¦
- ç¬¦åˆå¼€æ”¾å°é—­åŸåˆ™

### å¤‡å¿˜å½•æ¨¡å¼

**æ¦‚å¿µï¼š**

- éšæ—¶è®°å½•ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å˜åŒ–
- éšæ—¶å¯ä»¥æ¢å¤ä¹‹å‰çš„æŸä¸ªçŠ¶æ€(å¦‚æ’¤é”€åŠŸèƒ½ï¼Œæ—¶é—´æ—…è¡Œ)
- æœªæ‰¾åˆ°JSä¸­ç»å…¸åº”ç”¨ï¼Œé™¤äº†ä¸€äº›å·¥å…·(å¦‚ç¼–è¾‘å™¨)
- å†™å¤‡å¿˜å½•ä¸€èˆ¬æœ‰ä¸‰ä¸ªå¯¹è±¡ï¼šå•ä¸ªçŠ¶æ€å¤‡å¿˜ç±»+ç®¡ç†å¤šä¸ªçŠ¶æ€å¤‡å¿˜åˆ—è¡¨+ä¸»ä½“ç¼–è¾‘å™¨
- ä¸€èˆ¬æ˜¯ç¼–è¾‘å™¨ä¸­è¦å®ç°æ—¶é—´æ—…è¡Œçš„è¯ï¼Œéƒ½è¦æœ‰é¢å¤–2ä¸ªå®ç°å¤‡å¿˜å½•çš„ç±»ç»“æ„

```javascript
// å¤‡å¿˜å½•
class Memento {
  constructor(content) {
    this.content = content
  }
  getContent() {
    return this.content
  }
}
// å¤‡å¿˜åˆ—è¡¨
class CareTaker {
  constructor() {
    this.list = []
  }
  add(memento) {
    this.list.push(memento)
  }
  get(index) {
    return this.list[index]
  }
}
// ä¸»ä½“ç¼–è¾‘å™¨
class Editor {
  constructor() {
    this.content = null
  }
  setContent(content) {
    this.content = content
  }
  getContent() {
    return this.content
  }
  // ä¿å­˜ï¼šç¼–è¾‘å™¨ä¸­å½“å‰ä¿¡æ¯ åˆ›å»ºå¤‡å¿˜å½•å®ä¾‹ ç”±å¤–ç•Œå­˜æ”¾åˆ°æ•°ç»„ä¸­
  saveContentToMemento() {
    return new Memento(this.content)
  }
  // æ’¤é”€: å…ˆæ‹¿åˆ°ä¸Šæ¬¡ä¿å­˜çš„å¤‡å¿˜å½•ä¿¡æ¯ -> ç›´æ¥å­˜åˆ°å½“å‰ç¼–è¾‘å™¨å†…å®¹æ˜¾ç¤º
  getContentFromMemento(memento) {
    this.content = memento.getContent()
  }
}
// æµ‹è¯•ä»£ç 
let editor = new Editor()
let careTaker = new CareTaker()

editor.setContent('111')
editor.setContent('222')
careTaker.add(editor.saveContentToMemento()) // å°†å½“å‰å†…å®¹å¤‡ä»½
editor.setContent('333')
careTaker.add(editor.saveContentToMemento()) // å°†å½“å‰å†…å®¹å¤‡ä»½
editor.setContent('444')

console.log(editor.getContent()) //444
editor.getContentFromMemento(careTaker.get(1)) // æ’¤é”€
console.log(editor.getContent()) //333
editor.getContentFromMemento(careTaker.get(0)) // æ’¤é”€
console.log(editor.getContent()) //222
```

**è®¾è®¡åŸåˆ™éªŒè¯ï¼š**

- çŠ¶æ€å¯¹è±¡äºä½¿ç”¨è€…åˆ†å¼€ï¼Œè§£è€¦
- ç¬¦åˆå¼€æ”¾å°é—­åŸåˆ™(æ‰€æœ‰çš„åˆ†å¼€çš„å§è€¦çš„è‚¯å®šæ˜¯ç¬¦åˆå¼€æ”¾å°é—­åŸåˆ™)

### ä¸­ä»‹è€…æ¨¡å¼

**æ¦‚å¿µï¼š**
![zhongjiezhegainian](img/ä¸­ä»‹è€…æ¦‚å¿µ.png)

```javascript
class A {
  constructor() {
    this.number = 0
  }
  setNumber(num, m) {
    this.number = num
    if (m) {
      m.setB()
    }
  }
}
class B {
  constructor() {
    this.number = 0
  }
  setNumber(num, m) {
    this.number = num
    if (m) {
      m.setA()
    }
  }
}
// ä¸­ä»‹è€…
class Mediator {
  constructor(a, b) {
    this.a = a
    this.b = b
  }
  setB() {
    let number = this.a.number
    this.b.setNumber(number * 100)
  }
  setA() {
    let number = this.b.number
    this.a.setNumber(number / 100)
  }
}
// æµ‹è¯•
let a = new A()
let b = new B()
let m = new Mediator(a, b)
a.setNumber(100, m)
console.log(a.number, b.number)
b.setNumber(100, m)
console.log(a.number,)
```

**è®¾è®¡åŸåˆ™éªŒè¯ï¼š**

- å°†å„å…³è”å¯¹è±¡é€šè¿‡ä¸­ä»‹è€…éš”ç¦»
- ç¬¦åˆå¼€æ”¾å°é—­åŸåˆ™

### è®¿é—®è€…æ¨¡å¼

- å°†æ•°æ®æ“ä½œå’Œæ•°æ®ç»“æ„è¿›è¡Œåˆ†ç¦»
- visitorå®šä¹‰ï¼šå½“è¢«æ“ä½œçš„å¯¹è±¡ç»“æ„æ¯”è¾ƒç¨³å®šï¼Œè€Œæ“ä½œå¯¹è±¡çš„é€»è¾‘ç»å¸¸å˜åŒ–çš„æ—¶å€™ï¼Œé€šè¿‡åˆ†ç¦»é€»è¾‘å’Œå¯¹è±¡ç»“æ„ï¼Œä½¿å¾—ä»–ä»¬èƒ½ç‹¬ç«‹æ‰©å±•ã€‚

#### @babel/traverseèŒƒå¼æ¡ˆä¾‹

- [é“¾æ¥](https://juejin.cn/book/6946117847848321055/section/6947689001713139720)

### è§£é‡Šå™¨æ¨¡å¼

- æè¿°è¯­è¨€è¯­æ³•å¦‚ä½•å®šä¹‰ï¼Œå¦‚ä½•è§£é‡Šå’Œç¼–è¯‘
- ç”¨äºä¸“ä¸šåœºæ™¯
- å¯¹äºå‰ç«¯åœºæ™¯æ¥è¯´ï¼Œbabelæ’ä»¶çš„æºç è§£æes6è¯­æ³•çš„å°±æ˜¯è§£é‡Šå™¨æ¨¡å¼ï¼Œsaaslessè§£ææˆcssè¿™ç§åœºæ™¯ä¹Ÿä¼šç”¨åˆ°

### å…³äºé¢è¯•å’Œæ—¥ç¨‹åº”ç”¨

- é¢è¯•è¿‡ç¨‹ä¸­èƒ½è¯´å‡ºè¯¾ç¨‹é‡ç‚¹è®²è§£çš„è®¾è®¡æ¨¡å¼å³å¯
- æ—¥ç¨‹ä¸­ï¼Œé‡ç‚¹è®²è§£çš„è®¾è®¡æ¨¡å¼ï¼Œè¦å¼ºåˆ¶è‡ªå·±æ¨¡ä»¿ï¼ŒæŒæ¡
- éå¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ï¼Œè§†ä¸šåŠ¡åœºæ™¯é€‰æ‹©æ€§ä½¿ç”¨
- è®¾è®¡çš„ç›®çš„æ˜¯ç®€å•å¯æ‰©å±•å¯å¼€æ”¾ ä¸æ˜¯ä¸ºäº†è®¾è®¡è€Œè®¾è®¡

## ç»¼åˆåº”ç”¨

è¿™èŠ‚æˆ‘ä»¬é€šè¿‡è®²è§£ä¸€ä¸ªç¤ºä¾‹ï¼Œèåˆå„ç§å¸¸è§çš„è®¾è®¡æ¨¡å¼ï¼ŒçœŸæ­£é¡¹ç›®è½åœ°æ¥ä½“ä¼šä¸€ä¸‹

<font color="#dd0000">âœï¸ è¿™ä¸ªå’Œæˆ‘ä»¬å¸¸è§„çš„reactè„šæ‰‹æ¶æ­çš„é¡¹ç›®å½¢çŠ¶å·®ä¸å¤šï¼Œè¿™ä¸ªæ˜¯ç›¸å½“äºå€ŸåŠ©jQueryç±»åº“webpackå·¥å…·æ¥æ‰‹å†™å®ç°vuereactç­‰æ¡†æ¶æºç çš„é¡¹ç›®æ­å»ºåˆå§‹åŒ–èƒ½åŠ›ï¼Œç”Ÿæˆå½¢çŠ¶éƒ½æ˜¯å…¥å£æ–‡ä»¶Appä¸»ç»„ä»¶æ–‡ä»¶ç­‰å…¶ä»–ï¼Œæˆ‘ä»¬å†™çš„æ¯ä¸€ä¸ªUMLä¸­çš„ç±»å°±ç›¸å½“äºæ¡†æ¶ä¸­çš„ç»„ä»¶è®¾è®¡ã€‚æˆ‘ä»¬é€šè¿‡æ€»ä½“è®¾è®¡çš„UMLç±»å›¾å®Œæˆè¿™ä¸ªç±»ä¼¼æ¡†æ¶æºç åˆå§‹åŒ–é¡¹ç›®çš„èƒ½åŠ›ï¼Œæ²¡æœ‰vueçš„new Vue()è€Œæ˜¯æˆ‘ä»¬è‡ªå·±å†™çš„Appç±»ï¼Œnew App(),è¦å­¦ä¼šæ¨¡ä»¿è¿™ç§æ¡†æ¶è®¾è®¡èƒ½åŠ›</font>

æˆ‘ä»¬è¿™ä¸ªé¡¹ç›®ä½¿ç”¨jQueryåšä¸€ä¸ªæ¨¡æ‹Ÿè´­ç‰©è½¦çš„ç¤ºä¾‹ï¼ŒåŒ…æ‹¬ï¼šæ˜¾ç¤ºè´­ç‰©è½¦åˆ—è¡¨ï¼ŒåŠ å…¥è´­ç‰©è½¦ï¼Œä»è´­ç‰©è½¦åˆ é™¤

- ç”¨åˆ°çš„è®¾è®¡æ¨¡å¼ï¼šå·¥å‚æ¨¡å¼ å•ä¾‹æ¨¡å¼ è£…é¥°å™¨æ¨¡å¼ è§‚å¯Ÿè€…æ¨¡å¼ çŠ¶æ€æ¨¡å¼ æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼ ä»£ç†æ¨¡å¼
- å¾ˆéš¾ç”¨ä¸€ä¸ªç¤ºä¾‹æ¼”ç¤ºå®Œæ‰€æœ‰è®¾è®¡æ¨¡å¼

### UMLç±»å›¾åˆ†æ

- è‡ªå·±çœ‹å›¾åˆ†æå§

### ç”»UMLç±»å›¾

![gouwucheleitu](img/è´­ç‰©è½¦è®¾è®¡ç±»å›¾.png)

### ä»£ç åŸºç¡€ç¯å¢ƒ

- å…ˆå»é¡¹ç›®ä¸‹webpacké…ç½®æ–‡ä»¶ä¸­devServeré…ç½®é¡¹ä¸­æ·»åŠ proxyä»£ç†é¡¹ï¼Œé™æ€èµ„æºåˆå§‹å°±æ˜¯9000ç«¯å£ï¼Œå½“é‡åˆ°/api/å¼€å¤´çš„è¯·æ±‚å°±ç›´æ¥targetç›®æ ‡èµ°å‘8880ç«¯å£ï¼Œè¿™ä¸ªç«¯å£æ˜¯å’±ä»¬é¢å¤–èµ·çš„ä¸€ä¸ªæœåŠ¡ç«¯ç”¨æ¥åšæ¨¡æ‹Ÿæ¥å£çš„ï¼Œè‹¥ä¸èµ°proxyï¼Œå½“å‰9000ç«¯å£è®¿é—®8880çš„æ¥å£ä¼šé¢ä¸´è·¨åŸŸ
- ç„¶ååœ¨é¡¹ç›®ä¸‹å»ºä¸ªdemoæ–‡ä»¶å¤¹/apiæ–‡ä»¶å¤¹/list.jsonæ–‡ä»¶
- ç„¶ååœ¨demoç›®å½•ä¸‹è¿è¡Œ`http-server -p 8880` å¯åŠ¨é™æ€æœåŠ¡
  - å¯åŠ¨åï¼Œæµè§ˆå™¨ä¸­è®¿é—®localhost:8880/api/list.json è‡ªç„¶å°±èƒ½è®¿é—®åˆ°æ•°æ®äº†ï¼Œè¿™æ—¶å€™ç”±äºproxyä»£ç†çš„è®¾ç½®ï¼Œè®¿é—®localhost:9000/api/list.jsonï¼Œä¹Ÿä¼šè¿”å›æˆåŠŸçš„æ•°æ®ï¼Œè¿™æ˜¯å› ä¸º9000webpackèµ·çš„æœåŠ¡ç«¯å£ä¸­é‡åˆ°/api/*çš„è·¯ç”±æ—¶ä¼šå†…éƒ¨è‡ªåŠ¨æŠŠåŸŸåç«¯å£å¥½é‡å®šå‘åˆ°8880ç«¯å£ä¸‹ç¯å¢ƒï¼Œæ‰€ä»¥9000ä¸‹è®¿é—®ä¹Ÿèƒ½æˆåŠŸè®¿é—®æ•°æ®
- æ¥ä¸‹æ¥å®‰è£…jquery `npm i jquery --save`
- åœ¨æ ¹ç›®å½•ä¸‹çš„æ–°å»ºindex.htmlæ–‡ä»¶ï¼Œå»ºä¸ªUMLç±»å›¾ä¸­é‚£ä¸ªçš„divappå®¹å™¨çš„æ ‡ç­¾ï¼Œå†æ–°å»ºsrc/demo/App.jsæ–‡ä»¶ä½œä¸ºUMLç±»å›¾ä¸­Appç±»ä¸»ç»„ä»¶æ–‡ä»¶ï¼Œæ–°å»ºsrc/demo-index.jsæ–‡ä»¶ä½œä¸ºé¡¹ç›®å…¥å£æ–‡ä»¶
- `npm run dev` è¿è¡Œèµ·æ¥ä¸æŠ¥é”™å°±åŸºç¡€ç¯å¢ƒæ­å»ºå®Œæ¯•

### å®ç°Listç»„ä»¶

- å¼€å§‹ç¼–å†™App.jsæ–‡ä»¶å…·ä½“è§å…¶æ–‡ä»¶
- ç„¶ååœ¨æŠŠè®¾è®¡å›¾ä¸­çš„æ¯ä¸ªç±»çš„æ•´ä½“æ¶å­æ­å‡ºæ¥
- æœ¬èŠ‚å®Œæ•´çš„å†™å®ŒListç»„ä»¶ç±»æ–‡ä»¶

### å®ç°item cartä¸¤ä¸ªç±»

- å…ˆå®ç°Cartè¿™ä¸ªç±»ï¼Œè´­ç‰©è½¦åº”è¯¥æ˜¯å•ä¾‹æ¨¡å¼ï¼Œä¸èƒ½è®©ç”¨æˆ·å¾ˆè½»æ˜“åœ°å°±å£°æ˜å‡ºä¸€ä¸ªå¯¹è±¡æ¥ å®ç°ä¸­æ³¨æ„ä¸€ä¸‹
  - æ‰€ä»¥æˆ‘ä»¬åœ¨ShoppingCartæ–‡ä»¶å¤¹ä¸‹æ–°å»ºGetCartç±»å•ä¾‹æ–‡ä»¶ï¼Œä½œä¸ºä¸€ä¸ªç§æœ‰ç±»å³å¯ä¸è®©ç”¨æˆ·ä½¿ç”¨ä»…å†…éƒ¨ä½¿ç”¨
- ç„¶åå†å®ç°Itemè¿™ä¸ªç±»æ–‡ä»¶ï¼Œ(ä¼šå¼•ç”¨Cartè¿™ä¸ªå•ä¾‹çš„)å†™å®ŒItemä¸ç›´æ¥æ´¾å‡ºå»ä½¿ç”¨ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œå†å®ç°CreateItemå·¥å‚å‡½æ•°æ–‡ä»¶æ¥ç»™ç”¨æˆ·æŠ›å‡ºå»ï¼Œä¸ºä»€ä¹ˆè¦ç”¨å·¥å‚å‡½æ•°å¤„ç†ä¸€ä¸‹å‘¢ï¼Ÿå†™å·¥å‚å‡½æ•°è‚¯å®šæ˜¯è¦å·¥å‚å‡½æ•°é‡Œå†™å…¶ä»–å¤„ç†é€»è¾‘çš„ï¼Œæ²¡æœ‰é¢å¤–é€»è¾‘ä¸ä¼šå•çº¯å†™ä¸ªå·¥å‚å‡½æ•°çš„(å¦‚å¯ä»¥åœ¨å·¥ç¨‹å‡½æ•°ä¸­è£…é¥°ä¸‹åŸå§‹ç±»æˆ–æ¥å—çš„æ•°æ®åšä¸ªäºŒæ¬¡å¤„ç†å†ä¼ ç»™åŸå§‹ç±»)

### çŠ¶æ€æ¨¡å¼å®ç°è´­ç‰©è½¦æ“ä½œ

> å®Œå–„Itemç±»æ–‡ä»¶

### å®ç°è´­ç‰©è½¦åˆ—è¡¨å’ŒæŠ˜æ‰£

> å®Œå–„ShoppingCart.jsæ–‡ä»¶
> å®Œå–„CreateItem.jsæ–‡ä»¶

### å®ç°æ—¥å¿—

- ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œæ·»åŠ ä¸ªæ—¥å¿—
- æ·»åŠ æ—¥å¿—åŠŸèƒ½ --æƒ³åˆ°ç”¨è£…é¥°å™¨æ¨¡å¼ï¼Œåœ¨Itemç±»ä¸­æ·»åŠ è£…é¥°å™¨æ–¹æ³•ï¼Œä»–æ˜¯é€šç”¨å¤ç”¨åŠŸèƒ½ï¼Œå°±æ–°å»º util/log.js æ–‡ä»¶å§

### æ€»ç»“=

- æ€»ç»“ç”¨åˆ°çš„è®¾è®¡æ¨¡å¼
  - constructorä¸­çš„`$('#'+id)`çš„$å°±æ˜¯å·¥å‚æ¨¡å¼
  - å•ä¾‹æ¨¡å¼æ˜¯è´­ç‰©è½¦ getCartå‡½æ•°å•ä¾‹æ¨¡å¼å‡½æ•°
  - æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼ï¼šæ¸²æŸ“æœ‰ç»Ÿä¸€çš„initæ–¹æ³•ï¼Œå†…éƒ¨åŒ…å«äº†å„æ¨¡å—æ¸²æŸ“ã€‚å¦‚Itemç±»ä¸­initæ–¹æ³•æ¶µç›–äº†å„ç§åˆå§‹åŒ–éœ€è¦æ‰§è¡Œçš„æ–¹æ³•
  - æ‰“ç‚¹ä¸ŠæŠ¥æ˜¯è£…é¥°å™¨æ¨¡å¼
  - ä»£ç†æ¨¡å¼æ˜¯createDiscountå‡½æ•°ä¸­
  - è§‚å¯Ÿè€…æ¨¡å¼æ˜¯fetchçš„ç‚¹è¯­æ³•ï¼ŒæŒ‰é’®çš„clickäº‹ä»¶å‡½æ•°
  - çŠ¶æ€æ¨¡å¼æ˜¯Itemjsä¸­çŠ¶æ€æœº
